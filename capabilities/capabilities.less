@import '../settings.less';
@import '../overrides.less';



// special typography for capabilities pages

.capabilities .page-title {
    font-family: @myriad-pro;
    font-size: 20px;
    line-height: 22px;
    text-transform: uppercase;
    letter-spacing: 5px;
    color: @red;
}



// layout for overview page

#capabilities section.no-padding [class*="col"] {
    .display(flex);
    .flex-direction(column);
    .justify-content(center);
    
    @media @large { min-height: 500px; }
}



// layout for capabilities child pages

.capabilities.child.page {
    
    #hero {
        padding-bottom: 20px;
        @media @medium { padding-bottom: 30px; }
        @media @large { padding-bottom: 40px; }
        
        .ipad {
            @media @large { width: 150%; }
        }
        img {
            position: relative;
            z-index: -1;
        }
    }
    section:nth-child(2) {
        position: relative;
        padding-top: 70px;
        @media @medium { padding-top: 130px; }
        @media @large { padding-top: 160px; }
        @media @xlarge { padding-top: 250px; }
        overflow: hidden;
        background-color: @light-gray;

        &:before {
            content: '';
            display: block;
            .size(0);
            .position(absolute, 0, 50%, 0);
            border-left: 50vw solid transparent;
            border-right: 50vw solid transparent;
            border-top: 50px solid @white;
            @media @medium { border-top-width: 75px; }
            @media @large { border-top-width: 100px; }
            @media @xlarge { border-top-width: 130px; }
            .translateX(-50%);
        }
    }
    #next-page {
        padding: 0;
        
        .button {
            .padding-y(extract(@section-padding, 1));
            
            .loop-media-queries(@i) when (@i > 1) {
                .loop-media-queries(@i - 1);

                @query: extract(@queries, @i);
                @screen-size-class: extract(@screen-size-classes, @i);

                @media @query {

                    .padding-y(extract(@section-padding, @i));
                }
            }
            .loop-media-queries(length(@queries));
        }
        .next-page-title {
            display: block;
            margin-top: @base-margin / -2;
        }
    }
}



// page-specific

#data-discovery {
    
    #hero img {
        @media @large {
            max-width: none;
            margin-left: -120%;
        }
        @media @xlarge {
            margin-left: -100%;
        }
    }
    #dashboard-design img {
        @media @medium {
            max-width: none;
            margin-left: -110%;
        }
        @media @large {
            margin-left: -50%;
        }
        @media @xlarge {
            margin-left: -25%;
        }
    }
    #dashboard-sharing img {
        @media @medium {
            max-width: 600px;
            margin-left: -75%;
        }
        @media @large {
            max-width: 900px;
            margin-left: -90%;
        }
        @media @xlarge {
            max-width: 1200px;
            margin-left: -110%;
        }
    }
}

#advanced-analytics {
    
    #hero img {
        @media @large {
            max-width: none;
            margin-left: -70%;
        }
        @media @xlarge {
            margin-left: -40%;
        }
    }
}

#big-data {
    
    #hero img {
        @media @large {
            max-width: none;
            margin-left: -110%;
        }
        @media @xlarge {
            margin-left: -70%;
        }
    }
    #data-discovery img {
        max-width: 150%;
        margin-left: -25%;
    }
    #hadoop {
        
        .slider {
            width: 100%;
            position: relative;
            overflow:hidden;
        }
        .slider .gallery-img {
            .position(absolute, 0, 0);
            z-index: 1;
            background-repeat: no-repeat;
        }
        .slider:before, .slider:after {
            content: '';
            display: block;
            .size(50px, 100%);
            .position(absolute, 0, 0, @bottom:0);
            z-index: 2;
            background: -moz-linear-gradient(left,  rgba(242,242,242,1) 0%, rgba(242,242,242,0) 100%);
            background: -webkit-linear-gradient(left,  rgba(242,242,242,1) 0%,rgba(242,242,242,0) 100%);
            background: linear-gradient(to right,  rgba(242,242,242,1) 0%,rgba(242,242,242,0) 100%);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#00ffffff',GradientType=1 );
        }
        .slider:after {
            left: auto;
            right: 0;
            background: -moz-linear-gradient(left,  rgba(242,242,242,0) 0%, rgba(242,242,242,1) 100%);
            background: -webkit-linear-gradient(left,  rgba(242,242,242,0) 0%,rgba(242,242,242,1) 100%);
            background: linear-gradient(to right,  rgba(242,242,242,0) 0%,rgba(242,242,242,1) 100%);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=1 );
        }

        @big-data-logos-width: 2307px;
        @big-data-logos-height: 75px;

        .keyframes(big-data-logos-slider, {
            0%   { .translateX(0); }
            100% { .translateX(@big-data-logos-width * -1); }
        });

        .big-data-logos.slider {
            height: @big-data-logos-height;
            margin-bottom: 40px;

            .slider-img {
                .size(@big-data-logos-width, @big-data-logos-height);
                background-size: @big-data-logos-width @big-data-logos-height;
                background-image:url(/Strategy/media/images/capabilities/capabilities_big-data_hadoop-logos.png);
                .animation(big-data-logos-slider 20s linear infinite);

                &.two { left: @big-data-logos-width; }
            }
        }
    }
    @media @medium {
        
        #hadoop-diagram-apps .grid-item {
            position: relative;

            &:after {
                content: '';
                display: block;
                .size(@thin, @column-gutter);
                .position(absolute, @left:50%, @bottom:@column-gutter * -1);
                background-color: @gray;
            }
        }
        #hadoop-diagram-platform {
            .padding-y(@column-gutter / 2);

            .flex {
                position: relative;

                &:after {
                    content: '';
                    display: block;
                    .size(@thin, @column-gutter);
                    .position(absolute, @left:50%, @bottom:@column-gutter * -1);
                    background-color: @gray;
                }
            }
        }
        #hadoop-diagram-sql {
            padding-top: @column-gutter / 2;

            .grid-item {
                position: relative;

                &:before {
                    content: '';
                    display: block;
                    .size(@thin, @column-gutter);
                    .position(absolute, @column-gutter / -2, 50%);
                    background-color: @gray;
                }
                &:after {
                    content: '';
                    display: block;
                    height: @thin;
                    .position(absolute, @column-gutter / -2, 0, 0);
                    background-color: @gray;
                }
                &:first-child:after { left: 50%; }
                &:last-child:after { right: 50%; }
            }
        }
    }
}

#enterprise-reporting {
    
    #hero img {
        max-width: 150%;
        margin-left: -30%;
        @media @xlarge { margin-left: -15%; }
    }
}

#dashboards {
    
    #hero img {
        max-width: 200%;
        margin-left: -50%;
        
        @media @medium {
            max-width: 150%;
            margin-left: -26%;
        }
        @media @xlarge {
            max-width: none;
            margin-left: -20%;
        }
    }
    
    #dashboards-slider {
        position: relative;
        
        .content {
            position: relative;
            text-align: center;
        }
        .dashboard-container {
            display: inline-block;
            @media @medium { max-width: 650px; }
            position: relative;
            .transition(.5s, ease-out, max-width);
        }
        .dashboard {
            .position(absolute, 0, 0, 0);
            z-index: 2;
            opacity: 0;
            .transition(.4s, ease-out, opacity);
        }
        &.create .dashboard {
            
            &.one-panel {
                opacity: 1;
                .transition(.4s, ease-out, opacity, .7s);
            }
            &.two-panel {
                opacity: 1;
                .transition(.4s, ease-out, all, 2s);
            }
        }
        &.customize .dashboard {
            
            &.customized-light {
                opacity: 1;
                .transition(.1s, ease-out, opacity);
            }
            &.customized-dark {
                opacity: 1;
                .transition(.4s, ease-out, opacity, 1s);
            }
        }
        &.deploy {
            
            .dashboard-container {
                @media @small-only { max-width: 650px; }
            }
            
            .dashboard.deployed {
                opacity: 1;
                .transition(.1s, ease-out, opacity);
            }
            .deploy-group {
                max-height: 300px;
                .transition(.7s, ease-in, all, .3s);
                
                .device {
                    padding: 0 5px 30px 5px;
                    opacity: 1;
                    .transition(.4s, ease-out, all, .9s);
                }
                .arrow {
                    bottom: -10px;
                    opacity: 1;
                    .transition(.4s);
                }
            }
        }
        .deploy-group {
            @media @medium { max-width: 700px; }
            max-height: 200px;
            position: relative;
            overflow: hidden;
            margin: 0 auto;
            .transition(.4s);
            
            .device {
                display: inline-block;
                max-width: 32.5%;
                position: relative;
                vertical-align: bottom;
                margin-left: -4px;
                margin-bottom: 0;
                padding: 0 5px 20px 5px;
                opacity: 0;
                .transition(.2s);
                
                &.ipad { max-width: 20%; }
                &.phones { max-width: 15%; }
                
                &.web, &.ipad {
                    padding-right: 20px;
                    @media @large { padding-right: 30px; }
                    @media @xlarge { padding-right: 40px; }
                }
                &.laptop {
                    padding-left: 20px;
                    @media @large { padding-left: 30px; }
                    @media @xlarge { padding-left: 40px; }
                }
            }
            .arrow {
                position: absolute;
                bottom: -20px;
                z-index: 0;
                .transform-origin(top center);
                margin-bottom: 0;
                opacity: 0;
                .transition(.4s);

                &.web {
                    left: 15%;
                    @media @large { .rotate(-25deg); }
                    @media @xlarge { left: 13%; }
                }
                &.ipad {
                    left: 40%;
                    @media @large { .rotate(-15deg); }
                    @media @xlarge { left: 39%; }
                }
                &.phones {
                    left: 57.5%;
                    @media @large { .rotate(15deg); }
                    @media @xlarge { left: 58%; }
                }
                &.laptop {
                    left: 81%;
                    @media @large { .rotate(25deg); }
                    @media @xlarge { left: 84%; }
                }
            }
        }
        .buttons-row {
            @media @medium {max-width: 800px; }
            margin: 0 auto;
            padding: 40px 0 0;
            @media @medium { padding: 20px 0 0; }
            text-align: center;
            
            .btn {
                display: inline-block;
                width: 33.3%;
                @media @medium { position: relative; }
                vertical-align: top;
                margin-left: -4px;
                padding: 0 10px;
                color: @dark-gray;
                cursor: pointer;
                .transition(.2s, ease-out, color);
                
                &:hover, &.active { color: @red; }
                
                .text {
                    display: block;
                    font-family: @myriad-pro;
                    font-weight: @light;
                    font-size: 22px; line-height: 25px;
                    @media @medium { font-size: 18px; line-height: 20px; }
                }
                .desc {
                    width: 100%;
                    position: absolute;
                    left: 0;
                    padding: 15px 10px;
                    opacity: 0;
                    font-size: 12px;
                    line-height: 15px;
                    color: @dark-gray;
                    .transition(.2s, ease-out, opacity);
                }
                &.active .desc { opacity: 1; }
            }
        }
    }
}

#distribution {
    
    #hero img {
        @media @large {
            max-width: none;
            margin-left: -130%;
        }
        @media @xlarge {
            margin-left: -90%;
        }
    }
}

#mobile {
    
    #hero img {
        @media @large {
            max-width: none;
        }
    }
    #mobile-slider {
        
        .slide {
            padding: @base-margin;
        }
        
        &:before, &:after {
            content: '';
            display: block;
            .size(50px, 100%);
            position: absolute;
            top: 0; bottom: 0;
            z-index: 1;
        }
        &:before {
            left: 0;
            background: -moz-linear-gradient(left,  rgba(242,242,242,1) 0%, rgba(242,242,242,0) 100%);
            background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(242,242,242,1)), color-stop(100%,rgba(242,242,242,0)));
            background: -webkit-linear-gradient(left,  rgba(242,242,242,1) 0%,rgba(242,242,242,0) 100%);
            background: -o-linear-gradient(left,  rgba(242,242,242,1) 0%,rgba(242,242,242,0) 100%);
            background: -ms-linear-gradient(left,  rgba(242,242,242,1) 0%,rgba(242,242,242,0) 100%);
            background: linear-gradient(to right,  rgba(242,242,242,1) 0%,rgba(242,242,242,0) 100%);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f2f2f2', endColorstr='#00f2f2f2',GradientType=1 );
        }
        &:after {
            right: 0;
            background: -moz-linear-gradient(left,  rgba(242,242,242,0) 0%, rgba(242,242,242,1) 100%);
            background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(242,242,242,0)), color-stop(100%,rgba(242,242,242,1)));
            background: -webkit-linear-gradient(left,  rgba(242,242,242,0) 0%,rgba(242,242,242,1) 100%);
            background: -o-linear-gradient(left,  rgba(242,242,242,0) 0%,rgba(242,242,242,1) 100%);
            background: -ms-linear-gradient(left,  rgba(242,242,242,0) 0%,rgba(242,242,242,1) 100%);
            background: linear-gradient(to right,  rgba(242,242,242,0) 0%,rgba(242,242,242,1) 100%);
            filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00f2f2f2', endColorstr='#f2f2f2',GradientType=1 );
        }
    }
    #mobile-transactions img, #embed-media img {
        margin-bottom: (@column-gutter + extract(@section-padding, 1)) * -1;
        
        .loop-media-queries(@i) when (@i > 1) {
            .loop-media-queries(@i - 1);

            @query: extract(@queries, @i);
            @screen-size-class: extract(@screen-size-classes, @i);

            @media @query {

                margin-bottom: (@column-gutter / 2 + extract(@section-padding, @i)) * -1;
            }
        }
        .loop-media-queries(length(@queries));
    }
    #embed-media img {
        @media @large {
            max-width: none;
            margin-left: -80%;
        }
        @media @xlarge {
            margin-left: -50%;
        }
    }
}

#digital-credentials {
    
    #logical-access img {
        max-width: 175%;
        margin-left: -75%;
    }
    #physical-access img {
        max-width: 150%;
    }
}