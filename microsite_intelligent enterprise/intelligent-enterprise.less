@import '../settings.less';

//COMMON ELEMENTS
//mixin for delay only
.single-transition-delay(@duration:.2s) {
    -webkit-transition-delay: @duration;
    transition-delay: @duration;
}

//red filter over abstract banner
.background-image.overlay.filter {
    &-red {
        background-color: @red;
        -webkit-background-blend-mode: multiply;
        background-blend-mode: multiply;
        &:after {
            background-color:fade(@pure-black, 40%);
        }
        .InternetExplorer & {
            &:before {
                content:'';
                position:absolute; z-index:0;
                width:100%; height:100%;
                top:0; left:0;
                background-color:fade(@red, 70%);
            }
            &:after {
                background-color:fade(@pure-black, 50%);
            }
        }
    }
    &-orange {
        background-color: @orange;
        -webkit-background-blend-mode: multiply;
        background-blend-mode: multiply;
        &:after {
            background-color:fade(@pure-black, 40%);
        }
        .InternetExplorer & {
            &:before {
                content:'';
                position:absolute; z-index:0;
                width:100%; height:100%;
                top:0; left:0;
                background-color:fade(@orange, 70%);
            }
            &:after {
                background-color:fade(@pure-black, 50%);
            }
        }
    }
    &-green {
        background-color: @green;
        -webkit-background-blend-mode: multiply;
        background-blend-mode: multiply;
        &:after {
            background-color:fade(@pure-black, 40%);
        }
        .InternetExplorer & {
            &:before {
                content:'';
                position:absolute; z-index:0;
                width:100%; height:100%;
                top:0; left:0;
                background-color:fade(@green, 70%);
            }
            &:after {
                background-color:fade(@pure-black, 50%);
            }
        }
    }
    &-blue {
        background-color: @blue;
        -webkit-background-blend-mode: multiply;
        background-blend-mode: multiply;
        &:after {
            background-color:fade(@pure-black, 40%);
        }
        .InternetExplorer & {
            &:before {
                content:'';
                position:absolute; z-index:0;
                width:100%; height:100%;
                top:0; left:0;
                background-color:fade(@blue, 70%);
            }
            &:after {
                background-color:fade(@pure-black, 50%);
            }
        }
    }
    &-navy-blue {
        background-color: @navy-blue;
        -webkit-background-blend-mode: multiply;
        background-blend-mode: multiply;
        &:after {
            background-color:fade(@pure-black, 40%);
        }
        .InternetExplorer & {
            &:before {
                content:'';
                position:absolute; z-index:0;
                width:100%; height:100%;
                top:0; left:0;
                background-color:fade(@navy-blue, 70%);
            }
            &:after {
                background-color:fade(@pure-black, 50%);
            }
        }
    }
}

//DIV WITH A NUMBER NEXT TO IT
.number-group {
    position:relative; z-index:1;
    padding:15px 0 5px 30px;
    &:before {
        display:block; position:absolute; z-index:-1;
        content:'';
        top:0px; left:0px;
        font-size:60px; line-height:60px;
        font-weight:600;
        opacity:0.2;
    }
    @media @medium {
        padding-top:30px; padding-left:50px;
        &:before {
            font-size:120px; line-height:120px;
        }
    }
    &.one:before   {content:'1.'}
    &.two:before   {content:'2.'}
    &.three:before {content:'3.'}
    &.four:before  {content:'4.'}
    &.five:before  {content:'5.'}

    &.small {
        padding:10px 0 5px 20px;
        &:before {font-size:40px; line-height:40px;}
        @media @medium {&:before {font-size:60px; line-height:60px;}}
    }
}

//for a grid of links with colored icons and left border hover state
.icon-link-grid {
    .grid-item {
        .display(flex);
        .align-items(center);
        position:relative; overflow:hidden;
        padding-top:20px; padding-bottom:20px;

        font-family:@myriad-pro;
        font-size:14px; line-height:1.2em;
        .uppercase;
        font-weight:400;

        .icon {margin-right:10px;}
        &:before {
            content:'';
            display:block; position:absolute;
            top:0; left:0;
            width:3px; height:100%;
            .translateX(-3px);
            .single-transition;
        }
        &.red:before {background-color:@red;}
        &.orange:before {background-color:@orange;}
        &.green:before {background-color:@green;}
        &.blue:before {background-color:@blue;}
        &.navy-blue:before {background-color:@navy-blue;}
        &:hover {
            padding-left:20px; padding-right:10px;
            &:before {.translateX(0);}
            &.red .icon {color:@red;}
            &.orange .icon {color:@orange;}
            &.green .icon {color:@green;}
            &.blue .icon {color:@blue;}
            &.navy-blue .icon {color:@navy-blue;}
        }
    }
    &.light .grid-item {
        color:@black;
        border:1px solid fade(@pure-black, 10%);
        border-width:0 1px 1px 0;
        &:hover {background-color:fade(@white, 50%);}
    }
    &.dark .grid-item {
        color:@white;
        border:1px solid fade(@white, 10%);
        border-width:0 1px 1px 0;
        &:hover {background-color:fade(@pure-black, 40%);}
    }
}

blockquote {
    display:inline-block; *zoom:1; *display:inline; position:relative;
    padding:0; margin:20px 40px;
    font-family:@myriad-pro;
    font-weight:400;
    font-size:22px; line-height:26px;
    @media @medium {font-size:26px; line-height:35px;}

    > span {
        display:block;
        margin-top:15px;
        font-weight:600;
        font-size:16px; line-height:20px;
        .uppercase;
        @media @medium {font-size:18px;}
    }

	&:before, &:after {
        content:'“';
	    display:block; position:absolute;
	    top:0.2em; left:-50px;
	    height:56px; width:68px;

        font-family:@lucida-grande;
        font-size:250px;
        color:fade(@white, 50%);
	}
	&:after {
        content:'”';
        top:auto;
        left:auto;
        bottom:-0.2em;
        right:-35px;
    }
}

//stack a small icon on top of a large one
.stacked-icons {
    display:inline-block;
    position:relative;

    margin-bottom:10px;
    .icon:not(.icon-block) {
        position:relative; z-index:0;
        padding-bottom:7px; padding-right:7px;
        &.medium {padding-bottom:12px; padding-right:12px;}
        &.large {padding-bottom:17px; padding-right:17px;}
    }
    .icon.icon-block {
        position:absolute; z-index:1;
        right:0; bottom:0;
        height:27px; width:27px;
        &.medium {height:50px; width:50px;}
        &.large {height:80px; width:80px;}
    }
}






//OVERVIEW PAGE STYLES

.IntelligentEnterprise {
    #vision {
        .number-group {
            margin:0;
            padding:10px 20px 20px 50px;
            border-top:3px solid @red;
            &:before {left:15px;}
        }
    }
    .media-wrapper {
        position:relative;
        padding-bottom:200px;
        height:0;
        margin-top:30px;
        .single-transition(0.3s, ease-out, all, 0s);

        .resource-thumbnail {
            position:absolute; z-index:1;
            height:100%; width:100%;
            top:0; left:0;
            cursor:pointer;
            .single-transition(0.3s, ease-out, all, 0s);
            &:before {margin-top:-15px;}
            .cta {margin-top:50px; opacity:1;}
            &:after {display:none;}
        }
        .video-wrapper {
            position:absolute; z-index:0;
            width:100%;
            top:50%; left:50%;
            .translate(-50%, -40%);
            opacity:0;
            .single-transition(0.3s, ease-out, all, 0.3s);
        }

        &.video-playing {
            padding-bottom:56.25%;
            .resource-thumbnail {opacity:0; .translateY(-50px);}
            .video-wrapper {opacity:1; z-index:2; .translate(-50%, -50%);}
        }
    }

    #map {

        #intelligence-map {
            > .flex-row > .map-section,
            .middle-row {
                width:100%;
            }
            .map-section {box-shadow: 1px 1px 3px rgba(0,0,0,.2);}
            @media @medium {
                &:before, &:after {display:none;}
                .map-section {
                    font-size:16px;
                    margin:@mapGutter/2 @mapGutter/2 0 @mapGutter/2;
                    padding:30px 15px;
                    &.ext-forces {
                        .flex(0, 0, auto);
                        width:75px;
                        .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                        &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                    }
                }
                .middle-row {
                    .flex(1, 1, 1px);
                }
                .int-techniques {
                    margin-top:@mapGutter/2;
                    width:100%;
                    > .map-section {padding:30px 10px; margin:0; border-left:1px solid @white;}
                    > .map-section:first-child {border:0;}
                }
            }
        }

    }
}






//EXPLORE THE MAP PAGE STYLES

@mapGutter: 20px;

@extForcesColor:       @navy-blue;
@entAssetsColor:       @blue;
@intPlatformColor:     @red;
@intTechniquesColor:   @orange;
@intApplicationsColor: @green;

.ExploreTheMap {
    #hero {
        .display(flex);
        .flex-direction(column);
        .align-items(center);
        .justify-content(center);
        position:relative; z-index:0;
        min-height:500px; height:100vh; max-height:900px;
    }
    .scroll-details-row {
        .display(flex);
        .flex-direction(column);
        .align-items(center);
        .justify-content(center);
        position:relative; z-index:3;
        min-height:100vh;

        > .flex-row {position:relative;}

        .triangle-list > li {
            padding-top:40px;
            @media @medium {padding-top:0px; padding-bottom:100px;}
            @media @large {padding-top:40px; padding-bottom:40px;}
        }
    }
    #enterprise-assets.scroll-details-row {
        .triangle-list > li {
            padding-top:20px;
            @media @medium {padding-bottom:0;}
        }
    }
    .background-section-label {
        .uppercase;
        font-size:60px; line-height:1em;
        font-weight:600;
        color:@white;
        .prevent-highlight;
        opacity:0.2;
        @media @medium {font-size:80px; margin-left:-20px;}
        @media @large  {font-size:120px;}
    }

    //give a lot of space to the scroll-open last children in the stacked view
    #intelligence-applications #constituents,
    #intelligence-platform #security {@media @medium-only {padding-bottom:250px}}

    //make this div block the scroll portion just in case
    #map-download {
        .display(flex);
        .flex-direction(column);
        .align-items(center);
        .justify-content(center);
        position:relative; z-index:1;
        min-height:500px; height:80vh; max-height:900px;

        .button.gray.outline:hover {background-color:transparent; color:@gray; cursor:default;}
    }
}

#scroll-content {
    position:relative; z-index:1;
    overflow:hidden;
    color:@white;
    .angled-gradient(darken(@black, 20%), lighten(@black, 20%), @black);
    background-attachment:fixed;
}

#intelligence-map {
    position:relative;
    z-index:4;
    padding:0;

    &:after {
        content:'';
        position:absolute; display:block; z-index:-1;
        height:100%; width:100%;
        top:0; left:0;
        background-color:@pure-black;

        opacity:0;
        .single-transition;
    }
    &:before {
        content:'';
        position:absolute; display:block; z-index:-1;
        height:40px; width:100%;
        bottom:100%; left:0;
        background: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 100%);
        background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%);
        background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,1) 100%);
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#000000',GradientType=0 );

        opacity:0;
        .single-transition;
    }

    > .flex-row {
        @media @medium {.flex-wrap(nowrap);}
    }

    //center the sticky div in the viewport when over the content
    //&.sticky-mode {.single-transition;}
    &.ext-forces,
    &.ent-assets,
    &.int-platform,
    &.int-metadata,
    &.int-services,
    &.int-center,
    &.int-architecture,
    &.int-program {
        bottom:0!important;
        top:auto!important;

        &:before, &:after {opacity:0.8;}

        @media @large {
            bottom:auto!important;
            top:50%!important; .translateY(-50%);
            left:41.6666666666%!important;
            max-width:58.33333333333%;
            &:before, &:after {display:none;}
        }
        @media @xlarge {
            left:50%!important;
            max-width:700px;
            margin-left:-100px!important;
        }
    }
    &.int-applications {
        bottom:0!important;
        top:auto!important;

        &:before, &:after {opacity:0.8;}

        @media @large {
            bottom:auto!important;
            left:41.6666666666%!important;
            max-width:58.33333333333%;
            &.sticky-mode {top:50%!important; .translateY(-50%);}
            &:before, &:after {display:none;}
        }
        @media @xlarge {
            left:50%!important;
            max-width:700px;
            margin-left:-100px!important;
        }
    }
    //only center in the last div if it is also sticky



    //base styles for each map block
    .map-section {
        .display(flex);
        .flex(1, 1, auto);
        .flex-direction(column);
        .align-items(center);
        .justify-content(center);
        position:relative;
        margin:@mapGutter @mapGutter 0 @mapGutter;
        background-color:@dark-gray;
        padding:15px;
        box-shadow: 2px 2px 5px fade(@pure-black, 50%);

        font-family:@myriad-pro;
        color:@white;
        font-size:16px; line-height:1.1em;
        font-weight:600;
        .uppercase;

        @media @medium {
            padding:20px;
            width:100%;
            margin:@mapGutter;
            .single-transition(0.5s all ease-out 0s, 0.2s background-color ease-out 0s);
        }
        @media @large {font-size:18px;}

        .map-section-title {display:block; width:100%; max-height:100vh; opacity:1; .single-transition;}
        &:hover .map-section-title {color:@white;}
        .revealed-content {display:block; overflow:hidden; width:100%; max-height:0; opacity:0;}

        &.ext-forces {
            background-color:@extForcesColor;
            &:hover {background-color:@extForcesColor!important;}
            .feature-list-title {background-color:@extForcesColor;}
            .icon {color:@extForcesColor;}
            @media @small-only {&:last-of-type {display:none;}}
            &.second {.order(10);}
        }
        &.ent-assets {
            background-color:@entAssetsColor;
            &:hover {background-color:@entAssetsColor!important;}
            .feature-list-title {background-color:@entAssetsColor;}
            .icon {color:@entAssetsColor;}
        }
        &.int-platform,
        &.int-metadata,
        &.int-services {
            background-color:@intPlatformColor;
            &:hover {background-color:@intPlatformColor!important;}
            .feature-list-title {background-color:@intPlatformColor;}
            .icon {color:@intPlatformColor;}
        }
        &.int-center,
        &.int-architecture,
        &.int-program {
            background-color:@intTechniquesColor;
            &:hover {background-color:@intTechniquesColor!important;}
            .feature-list-title {background-color:@intTechniquesColor;}
            .icon {color:@intTechniquesColor;&.icon-block{color:@white;}&.black{color:@black;}}
        }
        &.int-applications {
            background-color:@intApplicationsColor;
            &:hover {background-color:@intApplicationsColor!important;}
            .feature-list-title {background-color:@intApplicationsColor;}
            .icon {color:@intApplicationsColor; &.icon-block {color:@white;} &.black{color:@black;}}
        }
    }//end map section

    .feature-list {
        .feature-list-title {
            display:block;
            padding:10px;
            background-color:@black;
            color:@white;
        }
        .subtitle {display:block; font-weight:300; margin-top:5px;}
        .feature-group {
            list-style:none;
            padding:15px;
            > li {
                .display(flex);
                .align-items(center);
                .justify-content(flex-start);
                .flex-wrap(nowrap);

                font-size:12px; line-height:12px;
                font-weight:600;
                text-align:left;
                text-transform:none;
                letter-spacing:normal;
                > img, > .icon {margin:0 10px 0 0;}
            }
        }
    }

    //layout the map
    .middle-row {

        @media @medium {
            .display(flex);
            //.flex(5, 1, 0px);
            .flex-direction(column-reverse);
            .justify-content(space-between);
            .align-items(center);
            width:200%;
        }

        > .map-section {
            // .flex(1, 1, auto);
            // width:100%; margin-bottom:0;
            // &:last-child{margin-bottom:@mapGutter;}
            //flip it for desktop
            @media @medium {
                margin-top:0; margin-bottom:@mapGutter;
                &:last-child{margin-top:@mapGutter;}
            }
        }
    }
    .int-platform-stacked {
        width:100%;
        padding:20px;
        background-color:@intPlatformColor;
        color:@white;
        margin-bottom:@mapGutter;

        @media @medium {
            .display(flex);
            .flex-direction(row);
            .align-items(stretch);
            .justify-content(center);
            .flex-wrap(wrap);
        }

        > .map-section-title {
            display:block;
            width:100%;
            margin-bottom:@mapGutter/2;
            font-family:@myriad-pro;
            .uppercase;
            font-size:18px;
            font-weight:600;
        }
        > .map-section {
            @media @medium {.flex(0,0,50%);}
            z-index:1;
            margin:0;
            padding:15px;
            box-shadow:none;
            font-size:16px;
            background-color:darken(@intPlatformColor, 10%);
            &:last-child {
                z-index:0;
                background-color:darken(@intPlatformColor, 15%);
            }
            &:hover {
                //background-color:lighten(@intPlatformColor, 5%)!important;
                background-color:lighten(saturate(@intPlatformColor, 10%), 5%)!important;
                box-shadow: 2px 2px 5px fade(@pure-black, 30%);
            }
        }
    }
    .int-techniques {
        margin-top:@mapGutter;

        @media @medium {
            .display(flex);
            .flex-direction(row);
            .align-items(stretch);
            .justify-content(space-between);
            .flex-wrap(nowrap);
            margin-top:0;
            width:~"calc(100% + (@{mapGutter} * 2))";
        }

        > .map-section {
            margin-top:0;
            border-top:1px solid @white;
            box-shadow:none;
            &:first-child {border:none;}
            @media @medium {
                font-size:12px;
                padding:20px 10px;
                margin-bottom:@mapGutter;
                margin-top:0; margin-right:0;
                border-top:none;
                box-shadow: 2px 2px 5px fade(@pure-black, 50%);
                &:last-child {margin-right:@mapGutter;}
            }
            @media @large  {font-size:18px;}
        }
    }

    //specific map transformations per content section
    &.ext-forces {
        .map-section {
            &:not(.ext-forces) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px;
            }
            &.ext-forces {
                .flex(3, 1, 0px);
                .justify-content(flex-start);
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                .revealed-content {max-height:100vh; opacity:1;}

                .feature-list .feature-group {
                    @media @medium-only {
                        .display(flex);
                        .flex-direction(row);
                        .flex-wrap(wrap);
                        .justify-content(flex-start);
                        > li {.flex(0, 1, 50%);}
                    }
                }
            }
        }
        .middle-row {
            .flex(1, 1, 135px);
            .justify-content(center);

            > .map-section {.flex(0, 1, auto);}
        }
        .int-techniques {
            .align-items(center);
            .justify-content(center);
            .flex-wrap(wrap);
            width:100%;
            @media @medium {.flex-direction(row-reverse);}
            > .map-section {margin:0; &:last-child{margin-bottom:@mapGutter;}}
        }
        .int-platform-stacked {
            padding:0px;
            background-color:@monsoon;
            color:@iron;
            > .map-section-title {
                background-color:darken(@monsoon, 10%);
                padding:10px;
                margin-bottom:0;
                font-size:90%;
            }
            > .map-section {
                .flex(0, 0, 100%);
                box-shadow: 2px 2px 5px fade(@pure-black, 30%);
            }
        }
    }//end external forces changes

    &.ent-assets {
        .map-section {
            &:not(.ent-assets) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:33px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.ent-assets {
                .justify-content(flex-start);
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                .revealed-content {
                    max-height:100vh; opacity:1;

                    .display(flex);
                    .flex-direction(row);
                    .align-items(flex-start);
                    .justify-content(space-between);
                    .flex-wrap(wrap);
                    .flex(0, 0, auto);
                }

                .feature-list {
                    .display(flex);
                    .flex-direction(column);
                    .align-items(center);
                    .justify-content(flex-start);
                    .flex-wrap(wrap);
                    .flex(1, 1, 0);

                    .feature-list-title {width:100%;}
                    &.data, &.services {width:100%;.flex(0, 0, auto);}
                    &.apps {border-right:1px solid @white;}
                    .feature-group {
                        .display(flex);
                        .flex-direction(row);
                        .align-items(flex-start);
                        .justify-content(space-between);
                        padding:5px 0 0 0;
                        width:~"calc(100% - 10px)";
                        > li {
                            .display(flex);
                            .flex-direction(column);
                            .align-items(stretch);
                            .justify-content(flex-start);
                            .flex-wrap(wrap);
                            .flex(1, 0, 0px);
                            padding:5px;
                            text-align:center;
                            > img, > .icon {margin:0 0 10px 0;}
                        }
                        &.large-icons {
                            .flex-wrap(wrap);
                            .justify-content(center);
                            padding:15px 10px;
                            > li {
                                .flex(1, 0, 33.333333%);
                                padding:10px;
                                font-size:16px; line-height:18px;
                            }
                        }
                    }
                }
            }
        }
        .middle-row {
            .flex(1, 1, 1px);
        }
        .int-techniques > .map-section {padding:10px 0;}
        .int-platform-stacked {
            padding:0px;
            background-color:@monsoon;
            color:@iron;
            > .map-section-title {
                background-color:darken(@monsoon, 10%);
                padding:10px;
                margin-bottom:0;
                font-size:90%;
            }
            > .map-section {
                box-shadow: 2px 2px 5px fade(@pure-black, 30%);
            }
        }
    }//end enterprise assets changes

    &.int-metadata {
        .int-platform-stacked {
            padding:0;
            background-color:transparent;
            > .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
        }

        .map-section {
            &:not(.int-metadata) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:33px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.int-services {.flex(0,0,100%);}
            &.int-metadata {
                .flex(0,0,100%);
                .justify-content(flex-start);
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                > .revealed-content {
                    max-height:200vh; opacity:1;
                }

                .feature-list {
                    .display(flex);
                    .flex-direction(column);
                    .align-items(center);
                    .justify-content(flex-start);
                    .flex-wrap(wrap);
                    .flex(1, 1, 0);
                    border-bottom:1px solid @white;

                    &:last-child {border-bottom:none;}

                    .feature-list-title {
                        width:100%;
                        color:fade(@white, 80%);
                        font-size:75%;
                        padding:5px 10px;
                        .single-transition;
                    }
                    .feature-group {
                        .display(flex);
                        .flex-direction(row);
                        .flex(0, 1, auto);
                        .flex-wrap(wrap);
                        .align-items(flex-start);
                        .justify-content(flex-start);
                        overflow:hidden;
                        width:~"calc(100% - 10px)";

                        padding:0;
                        max-height:0;
                        opacity:0;
                        .single-transition;
                        > li {
                            .display(flex);
                            .flex-direction(column);
                            .align-items(stretch);
                            .justify-content(flex-start);
                            .flex-wrap(wrap);
                            .flex(1, 1, 16.66667%);
                            padding:5px;
                            text-align:center;
                            > img, > .icon {margin:0 0 10px 0;}
                        }
                    }
                    &.active {
                        .feature-list-title {color:@white; font-size:100%; padding:10px;}
                        .feature-group {max-height:100vh; opacity:1; padding:5px 0 0 0; .single-transition-delay(0.2s);}
                    }
                }
            }
        }
    }//end platform metadata section

    &.int-services {
        .int-platform-stacked {
            padding:0;
            background-color:transparent;
            > .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
        }

        .map-section {
            &:not(.int-services) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:33px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.int-metadata {.flex(0,0,100%);}
            &.int-services {
                .flex(0,0,100%);
                .justify-content(flex-start);
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                > .revealed-content {
                    max-height:200vh; opacity:1;
                }

                .feature-list {
                    .display(flex);
                    .flex-direction(column);
                    .align-items(center);
                    .justify-content(flex-start);
                    .flex-wrap(wrap);
                    .flex(1, 1, 0);
                    border-bottom:1px solid @white;

                    &:last-child {border-bottom:none;}

                    .feature-list-title {
                        width:100%;
                        color:fade(@white, 80%);
                        font-size:75%;
                        padding:5px 10px;
                        .single-transition;
                    }
                    .feature-group {
                        .display(flex);
                        .flex-direction(row);
                        .flex(0, 1, auto);
                        .flex-wrap(wrap);
                        .align-items(flex-start);
                        .justify-content(flex-start);
                        overflow:hidden;
                        width:~"calc(100% - 10px)";

                        padding:0;
                        max-height:0;
                        opacity:0;
                        .single-transition;
                        > li {
                            .display(flex);
                            .flex-direction(column);
                            .align-items(stretch);
                            .justify-content(flex-start);
                            .flex-wrap(wrap);
                            .flex(1, 1, 16.66667%);
                            padding:5px;
                            text-align:center;
                            > img, > .icon {margin:0 0 10px 0;}
                        }
                    }
                    &.active {
                        .feature-list-title {color:@white; font-size:100%; padding:10px;}
                        .feature-group {max-height:100vh; opacity:1; padding:5px 0 0 0; .single-transition-delay(0.2s);}
                    }
                }
            }
        }
    }//end platform services section

    &.int-platform {
        .map-section {
            &:not(.int-platform) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:33px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.int-platform {
                .justify-content(flex-start);
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                > .revealed-content {
                    max-height:200vh; opacity:1;
                }

                .feature-list {
                    .display(flex);
                    .flex-direction(column);
                    .align-items(center);
                    .justify-content(flex-start);
                    .flex-wrap(wrap);
                    .flex(1, 1, 0);
                    border-bottom:1px solid @white;

                    &:last-child {border-bottom:none;}

                    .feature-list-title {
                        width:100%;
                        color:fade(@white, 80%);
                        font-size:75%;
                        padding:5px 10px;
                        .single-transition;
                    }
                    .feature-group {
                        .display(flex);
                        .flex-direction(row);
                        .flex(0, 1, auto);
                        .flex-wrap(wrap);
                        .align-items(flex-start);
                        .justify-content(flex-start);
                        overflow:hidden;
                        width:~"calc(100% - 10px)";

                        padding:0;
                        max-height:0;
                        opacity:0;
                        .single-transition;
                        > li {
                            .display(flex);
                            .flex-direction(column);
                            .align-items(stretch);
                            .justify-content(flex-start);
                            .flex-wrap(wrap);
                            .flex(1, 1, 16.66667%);
                            padding:5px;
                            text-align:center;
                            > img, > .icon {margin:0 0 10px 0;}
                        }
                    }
                    &.active {
                        .feature-list-title {color:@white; font-size:100%; padding:10px;}
                        .feature-group {max-height:100vh; opacity:1; padding:5px 0 0 0; .single-transition-delay(0.2s);}
                    }
                }
            }
        }
        .middle-row {
            .flex(1, 1, 1px);
        }
        .int-techniques > .map-section {padding:10px 0;}
        .int-platform-stacked {
            padding:0px;
            background-color:@monsoon;
            color:@iron;
            > .map-section-title {
                background-color:darken(@monsoon, 10%);
                padding:10px;
                margin-bottom:0;
                font-size:90%;
            }
            > .map-section {
                box-shadow: 2px 2px 5px fade(@pure-black, 30%);
            }
        }
    }//end intelligence platform changes




        //TO BE DELETED
    &.int-program {
        .map-section {
            &:not(.int-program) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px; z-index:0;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:33px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.int-program {
                z-index:1;
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                > .revealed-content {
                    max-height:200vh; opacity:1;

                    .display(flex);
                    .flex-direction(row);
                    .justify-content(flex-start);
                    .flex-wrap(nowrap);

                }
                 .feature-list {
                     .flex(0, 1, 33.333%);
                     border-right:1px solid @white;
                     .feature-list-title {font-size:16px;}

                     &:last-child {border-right:none;}
                 }
            }
        }
        .int-techniques {
            .flex-direction(column-reverse);
            .align-items(center);
            .justify-content(center);
            .flex-wrap(wrap);
            width:100%;
            > .map-section {
                .flex(0, 1, auto);
                margin:0;
                width:100%;
                &:first-child{margin-bottom:@mapGutter;}
            }
        }
    }//end intelligence program changes




        //TO BE DELETED
    &.int-architecture {
        .map-section {
            &:not(.int-architecture) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px; z-index:0;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:33px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.int-architecture {
                z-index:1;
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                > .revealed-content {max-height:200vh; opacity:1;}

                .monitor-diagram {width:51px; height:37.28px;}
                .complex-monitor-diagram {width:175px; height:97.39px}

                .diagram-title {
                    display:block;
                    padding:10px;
                    color:@white;
                    background-color:@orange;
                    font-size:16px;
                }

                .diagram-wrapper {
                    font-size:14px;
                    line-height:14px;
                    font-weight:400;
                    img, > .icon {margin-bottom:5px;}
                    .diagram-item {
                        position:relative;
                        padding:15px 10px;

                        &.uat {
                            position:relative;
                            &:after {
                                content:'';
                                position:absolute;
                                background-color:@iron;
                                height:20px; width:2px;
                                bottom:-10px;
                                left:50%; margin-left:-1px;
                            }
                        }
                    }
                    .diagram-line {
                        position:absolute;
                        width:25%; height:50%;
                        top:0;
                        .icon {color:@gray; position:absolute;}
                        &:before, &:after {
                            content:'';
                            position:absolute;
                            background-color:@gray;
                        }
                        &:before {
                            width:2px; height:100%;
                            left:50%;
                            top:0;
                        }
                        &:after {
                            width:50%; height:2px;
                            right:0;
                            bottom:0;
                        }

                        &.left {
                            left:17%;
                        }
                        &.right {
                            right:17%;
                            &:after {right:auto; left:0;}
                        }
                        &.point-up {
                            .icon {top:-5px; left:50%; margin-left:-6px;}
                        }
                        &.point-right {
                            &:before {.translateX(15px); height:~"calc(100% - 15px)";}
                            &:after  {.translateY(-15px); width:~"calc(50% - 15px)";}
                            .icon {bottom:9px; right:-5px;}
                        }
                    }
                }

                .feature-list {
                    .display(flex);
                    .flex-direction(column);
                    .align-items(center);
                    .justify-content(flex-start);
                    .flex-wrap(wrap);

                    .feature-group {
                        .display(flex);
                        .flex-direction(row);
                        .align-items(center);
                        .justify-content(space-around);
                        width:100%;
                        > li {padding:5px 10px;}
                    }
                }
            }
        }
        .int-techniques {
            .flex-direction(column-reverse);
            .align-items(center);
            .justify-content(center);
            .flex-wrap(wrap);
            width:100%;
            > .map-section {
                .flex(0, 1, auto);
                margin:0;
                width:100%;
                &:first-child{margin-bottom:@mapGutter;}
            }
        }
    }//end intelligence architecture changes

    &.int-center {
        .map-section {
            &:not(.int-center) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px; z-index:0;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:33px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.int-center {
                z-index:1;
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                > .revealed-content {max-height:200vh; opacity:1;}

                //preserve the old section for intl pages till theyre translated
                &:not(.version-2) {
                    .stacked-icons {
                        .icon:not(.icon-block) {
                            padding-bottom:7px; padding-right:7px;
                        }
                        .icon.icon-block {
                            height:27px; width:27px;
                        }
                    }
                     .feature-list {
                         .display(flex);
                         .flex-direction(row);
                         .justify-content(center);
                         .flex-wrap(wrap);
                         .flex(0, 1, auto);
                         width:100%;
                         padding-bottom:20px;

                         .feature-list-title {width:100%; font-size:16px;}

                         .feature-group {
                             .flex(0, 1, 25%);
                             border-right:1px solid @white;
                             padding:0; margin:0;
                             &:last-child {border-right:none;}
                             &.director {
                                 position:relative;
                                 width:100%;
                                 .flex(0, 1, auto);
                                 > li:before {display:none;}
                                 &:before, &:after {
                                     content:'';
                                     position:absolute;
                                     background-color:@iron;
                                     left:50%; .translateX(-50%);
                                     bottom:0;
                                 }
                                 &:before {
                                     height:10px; width:2px;
                                 }
                                 &:after {
                                     height:2px; width:~"calc(75% + 4px)";
                                 }
                             }

                             > li {
                                 .display(flex);
                                 .flex-direction(column);
                                 .justify-content(flex-start);
                                 .flex-wrap(wrap);
                                 .flex(1, 1, 0);
                                 position:relative;
                                 padding:15px 10px;
                                 text-align:center;
                                 > img, > .icon {margin:0 0 10px 0;}
                                 &:before, &:after {
                                     content:'';
                                     position:absolute;
                                     background-color:@iron;
                                     height:10px; width:2px;
                                     left:50%; margin-left:-1px;
                                 }
                                 &:before {top:0px;}
                                 &:after {bottom:0px;}
                                 &:last-child:after {display:none;}
                             }
                         }
                     }
                 }
            }

            // new intelligence center panels
            .version-2& {
                > .revealed-content > .feature-list {
                    border-bottom:1px solid @white;

                    &:last-child {border-bottom:none;}
                    .feature-list-title {
                        width:100%;
                        color:fade(@white, 80%);
                        font-size:75%;
                        padding:5px 10px;
                        .single-transition;
                    }
                    .inner-content {
                        .display(flex);
                        .flex-direction(row);
                        .justify-content(center);
                        .flex-wrap(wrap);
                        .flex(0, 1, auto);
                        overflow:hidden;
                        width:100%;

                        padding:0;
                        max-height:0;
                        opacity:0;
                        .single-transition;
                    }
                    &.active {
                        .feature-list-title {color:@white; font-size:100%; padding:10px;}
                        .inner-content {max-height:100vh; opacity:1; .single-transition-delay(0.2s);}
                    }
                }

                .programs .inner-content {
                     .feature-list {
                         width:100%;
                         border-bottom:2px solid @iron;
                         &:last-child {border:none;}
                         .feature-list-title {
                             font-size:16px;
                             background-color:@white;
                             color:@black;
                             text-align:left;
                         }
                     }
                     .feature-group {
                         .display(flex);
                         .flex-direction(row);
                         .flex(0, 1, auto);
                         .flex-wrap(wrap);
                         .align-items(flex-start);
                         .justify-content(space-between);
                         padding:0 0 10px 0;

                         > li {
                             .display(flex);
                             .flex-direction(column);
                             .align-items(stretch);
                             .justify-content(flex-start);
                             .flex-wrap(wrap);
                             .flex(1, 0, 1px);
                             padding:5px;
                             text-align:center;
                             > .icon {margin:0 0 10px 0;}
                         }
                     }
                }

                .architecture .inner-content {
                    .diagram-wrapper {
                        //padding:20px;
                        font-size: 14px;
                        line-height: 16px;
                        font-weight: 400;
                    }

                    img {max-width:80px;}

                    .diagram-item {
                        position:relative;
                        padding:10px 20px;

                        &.uat {
                            position:relative;
                            &:after {
                                content:'';
                                position:absolute;
                                background-color:@gray;
                                height:2px; width:20px;
                                top:50%;
                                right:0; margin-top:-1px;
                            }
                        }
                    }
                    .diagram-line {
                        position:absolute;
                        width:20px; height:2px;
                        top:50%; left:0;
                        background-color:@gray;
                        .icon {
                            position:absolute;
                            color:@gray;
                            right:-5px;
                            top:50%; margin-top:-7px;
                        }

                        &.right {right:-10px; left:auto; width:30px;}
                        &.reverse {
                            height:30px; width:65%;
                            background-color:transparent;
                            top:~"calc(50% - 30px)";
                            right:~"calc(100% - 20px)"; left:auto;
                            .icon {
                                top:auto; bottom:-6px;
                                left:-6px; right:auto;
                            }
                            &:before, &:after {
                                content:'';
                                position:absolute;
                                background-color:transparent;
                                left:0; top:0;
                            }
                            &:before {
                                width:100%; height:1px;
                                border-bottom:2px dashed @gray;
                            }
                            &:after {
                                width:1px; height:100%;
                                border-right:2px dashed @gray;
                            }
                        }
                    }
                    .deployment-environments .diagram-item {
                        &:before {
                            content:'';
                            position:absolute;
                            background-color:@gray;
                            width:2px; height:50%;
                            top:50%; left:0;
                        }
                        &:last-child:before {top:0;}
                    }
                }

                .deployment  .inner-content {
                    .feature-list {
                        width:100%;
                        border-bottom:2px solid @iron;
                        &:last-child {border-bottom:none;}

                        &.split {
                            .display(flex);
                            .flex-direction(row);
                            .align-items(flex-start);
                            .justify-content(space-between);
                            .feature-group {
                                .flex(0,0,50%);
                                margin:0;
                                &:first-child {border-right:2px solid @iron;}
                            }
                        }

                        .feature-group {
                            .display(flex);
                            .flex-direction(row);
                            .align-items(flex-start);
                            .justify-content(space-between);
                            padding:10px;
                            width:~"calc(100% - 10px)";
                            > li {
                                .display(flex);
                                .flex-direction(column);
                                .align-items(stretch);
                                .justify-content(flex-start);
                                .flex-wrap(wrap);
                                .flex(1, 0, 0px);
                                padding:5px;
                                text-align:center;
                                > img,
                                > .icon {
                                    margin:0 auto 10px auto;
                                }
                            }
                        }
                    }
                }

                .personas .inner-content {
                    .feature-group {
                        .flex(0, 1, 25%);
                        padding:0; margin:0;
                        &.director {
                            position:relative;
                            padding-bottom:15px;
                            .flex(0,0, 100%);
                            &:before {
                                content:'';
                                position:absolute;
                                width:75%; height:2px;
                                bottom:5px; left:25% / 2;
                                background-color:@iron;
                            }
                            &:after {
                                content:'';
                                position:absolute;
                                height:0; width:0;
                                bottom:-5px;
                                left:50%; margin-left:-5px;

                                border-left:10px solid transparent;
                                border-right:10px solid transparent;
                                border-top:10px solid @orange;
                            }
                        }

                        > li {
                            .display(flex);
                            .flex-direction(column);
                            .justify-content(flex-start);
                            .flex-wrap(wrap);
                            .flex(1, 1, 0);
                            position:relative;
                            padding:10px;
                            text-align:center;
                            > img,
                            > .icon {
                                margin:0 0 10px 0;
                            }
                        }
                    }
                }
            }
        }
        .int-techniques {
            .flex-direction(column-reverse);
            .align-items(center);
            .justify-content(center);
            .flex-wrap(wrap);
            width:100%;
            > .map-section {
                .flex(0, 1, auto);
                margin:0;
                width:100%;
                &:first-child{margin-bottom:@mapGutter;}
            }
        }
        .int-platform-stacked {
            padding:0px;
            background-color:@monsoon;
            color:@iron;
            > .map-section-title {
                background-color:darken(@monsoon, 10%);
                padding:10px;
                margin-bottom:0;
                font-size:90%;
            }
            > .map-section {
                box-shadow: 2px 2px 5px fade(@pure-black, 30%);
            }
        }
    }//end intelligence center changes


    &.int-applications {
        .map-section {
            &:not(.int-applications) {
                background-color:@monsoon; color:@iron; font-size:90%; padding:10px;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:33px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.int-applications {
                .justify-content(flex-start);
                padding:0;
                background-color:@white!important;
                color:@monsoon;
                cursor:default;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                > .revealed-content {max-height:200vh; opacity:1;}

                .feature-list {
                    .display(flex);
                    .flex-direction(column);
                    .align-items(center);
                    .justify-content(flex-start);
                    .flex-wrap(wrap);
                    .flex(1, 1, 0);
                    border-bottom:1px solid @white;

                    &:last-child {border-bottom:none;}

                    .feature-list-title {
                        width:100%;
                        color:fade(@white, 80%);
                        font-size:75%;
                        padding:5px 10px;
                        .single-transition;
                    }
                    .feature-group {
                        .display(flex);
                        .flex-direction(row);
                        .flex(0, 1, auto);
                        .flex-wrap(wrap);
                        .align-items(flex-start);
                        .justify-content(flex-start);
                        overflow:hidden;
                        width:~"calc(100% - 10px)";

                        padding:0;
                        max-height:0;
                        opacity:0;
                        .single-transition;
                        > li {
                            .display(flex);
                            .flex-direction(column);
                            .align-items(stretch);
                            .justify-content(flex-start);
                            .flex-wrap(wrap);
                            .flex(1, 1, 16.66667%);
                            padding:5px;
                            text-align:center;
                            > img, > .icon {margin:0 0 10px 0;}
                        }
                    }
                    &.active {
                        .feature-list-title {color:@white; font-size:100%; padding:10px;}
                        .feature-group {max-height:100vh; opacity:1; padding:5px 0 0 0; .single-transition-delay(0.2s);}
                    }

                    &.roles {
                        .feature-group>li {
                            .flex(1, 0, 0px);
                            .align-items(center);
                            padding:10px;
                        }
                    }
                }
            }
        }
        .middle-row {
            .flex(1, 1, 1px);
        }
        .int-techniques > .map-section {padding:10px 0;}
        .int-platform-stacked {
            padding:0px;
            background-color:@monsoon;
            color:@iron;
            > .map-section-title {
                background-color:darken(@monsoon, 10%);
                padding:10px;
                margin-bottom:0;
                font-size:90%;
            }
            > .map-section {
                box-shadow: 2px 2px 5px fade(@pure-black, 30%);
            }
        }
    }//end intelligence applications changes
}//end intelligence map styles



//CUSTOM MAP PAGE
.BecomeAnIntelligentEnterprise {
    //showing and hiding panels
    .content-panel {
        opacity:0;
        display:none;
        .single-transition;
        &.current {
            display:block;
            .animation(panel-appear 0.3s ease-out 0.2s normal forwards);
        }
    }

    //set what is shown or hidden based on the map state
    .copy-map-completed,
    #customized-intelligence-map .map-section.int-center,
    #customized-intelligence-map .map-section.int-applications .map-req,
    #print-instructions,
    .side-map,
    #map-key {display:none;}

    .final-map {
        #customized-intelligence-map .row-title .instructions,
        #customized-intelligence-map .select-toggler,
        #customized-intelligence-map .block-details.show,
        #customized-intelligence-map .int-platform .row-title,
        #customized-intelligence-map .ent-assets .row-title,
        .copy-map-instructions,
        #next-step-instructions {display:none;}

        #customized-intelligence-map .map-section.int-center,
        .copy-map-completed {display:block;}

        #customized-intelligence-map .map-section.int-applications .map-req,
        .side-map,
        #print-instructions,
        #map-key {.display(flex);}

        #customized-intelligence-map .block-name {cursor:default;}
    }

    #custom-ie-map-wrapper {
        padding-left:20px; padding-right:20px;
        @media @medium-only {padding-left:0px; padding-right:0px;}
    }
    .middle-map {
        .flex(1, 1, 0px);
        padding:0 10px;
        @media @medium {padding: 0 15px;}
    }
    .final-map {
        .side-map {
            .flex(0,0,100%);
            padding: 0 10px;
            @media @medium {
                .flex(0,0,20%);
                padding:0 15px;
                min-width:200px;
                &.last-md {.order(1);}
            }
            @media @large {
                .flex(0,0,15%);
            }
        }
    }

    .key-box {
        .display(flex);
        .flex(0, 1, auto);
        .flex-direction(row);
        .flex-wrap(wrap);
        .justify-content(center);
        position:relative;
        height:20px; width:20px;
        margin-right:10px;
        box-shadow: 1px 1px 3px fade(@pure-black, 20%);

        &.gray {
            background-color:@gray;
            border:1px solid @light-gray;
        }

        .inner-box {
            .flex(0,0,50%);
            height:10px;
            background-color:@white;
            border:2px solid @red;
            &:nth-child(2) {border:2px solid @orange;}
            &:nth-child(3) {border:2px solid @green;}
            &:nth-child(4) {border:2px solid @blue;}
        }


        &.solid-fill .inner-box {
            background-color:@red;
            &:nth-child(2) {background-color:@orange;}
            &:nth-child(3) {background-color:@green;}
            &:nth-child(4) {background-color:@blue;}
        }
    }

    #customized-intelligence-map {
        .map-section {
            display:block;
            margin-top:30px;

            font-family:@myriad-pro;
            font-weight:400;
            font-size:14px; line-height:16px;

            @media @medium {
                &.ext-forces {
                    .display(flex);
                    .flex-direction(column);
                    .flex(0,0,100%);
                    .section-row {
                        .flex(1, 0, auto);
                    }
                    .block {
                        .flex(0,0,auto);
                        width:100%;
                    }
                }
            }
        }
        .section-title {
            position:relative;
            display:block;
            padding-bottom:10px;

            text-align:left;
            font-size:18px; line-height:18px;
            font-weight:600;
            .uppercase;

            &:before {
                content:'';
                display:inline-block;
                height:10px; width:10px;
                background-color:@gray;
                margin-right:10px;
            }
        }
        .row-title {
            position:relative;
            display:block;
            padding:5px 10px;
            background-color:@black;

            text-align:left;
            font-size:16px; line-height:18px;
            font-weight:600;
            .uppercase;
            color:@white;

            .instructions {
                text-transform:none;
                letter-spacing:normal;
                font-weight:400;
            }
        }
        .section-row {
            .display(flex);
            .flex(0, 1, auto);
            .flex-direction(row);
            .flex-wrap(wrap);
            .justify-content(flex-start);
            width: 100%;
            box-shadow:3px 3px 5px fade(@pure-black, 30%);
        }
        .row-title {
            width:100%;
        }
        .block {
            .display(flex);
            .flex-direction(column);
            .align-items(stretch);
            .justify-content(center);
            .flex-wrap(wrap);
            .flex(1,1,0px);
            position:relative;
            min-width:100px;
            position:relative;
            padding:10px;
            border:1px solid @iron;
            background-color:@gray;

            color:@light-gray;
            .single-transition;

            &.selected {
                background-color:@white;
                color:@black;
                border-width:2px;

                .select-toggler .indicator {
                    &:before {
                        margin-left:8%;
                        margin-top:2%;
                        background-color:@white;
                        .transform(translate(-50%, -50%) rotate(45deg));
                    }
                    &:after {
                        height:30%;
                        margin-left:-20%;
                        margin-top:10%;
                        background-color:@white;
                        .transform(translate(-50%, -50%) rotate(-45deg));
                    }
                    background-color:@green;
                }
            }
        }
        .select-toggler {
            position:absolute; z-index:3;
            top:-8px; right:-8px;
            overflow:hidden;
            color:@white;
            margin:0;
            height:30px; width:30px;
            text-indent: -99999px;

            font-family:@myriad-pro;
            font-size:14px; line-height:14px;
            font-weight:600;
            .uppercase;

            .indicator {
                position:absolute;
                top:3px; right:3px;
                height:25px; width:25px;
                background-color:@charcoal;
                border-radius:50%;
                box-shadow:1px 1px 5px fade(@pure-black, 50%);

                &:before, &:after {
                    content:'';
                    position:absolute;
                    top:50%; left:50%;
                    .transform(translate(-50%, -50%));
                    width:2px; height:50%;
                    background-color:@light-gray;
                    .single-transition;
                }
                &:after {.transform(translate(-50%, -50%) rotate(90deg));}
            }
        }
        .block-name {
            cursor:pointer;
            .uppercase;
            font-weight:600;
            .icon {
                display:block;
                margin-bottom:5px;
            }
            .stacked-icons {
                margin-bottom:5px;
                .icon {.display(inline-flex); margin-bottom:0;}
            }
            > span {
                display:block;
            }
        }
        .block-details {
            position:absolute;
            bottom:~"calc(100% + 10px)"; left:50%;
            width:100%;
            @media @medium {width:400px;}
            @media @large {width:500px;}
            background-color:@black;
            color:@white;
            text-align:left;
            padding:20px;
            box-shadow:1px 1px 5px fade(@pure-black, 30%);
            p {font-size:16px; line-height:20px;}

            .header {
                .display(inline-flex);
                .justify-content(flex-start);
                .align-items(center);
                padding-bottom:10px;
                .icon {margin-right:15px;}

                font-size:18px; line-height:20px;
                font-weight:600;
                .uppercase;
            }

            &:after {
                content:'';
                position:absolute;
                height:0px; width:0px;
                top:100%; left:50%;
                margin-left:-25px;

                border-left: 25px solid transparent;
                border-right: 25px solid transparent;
                border-top: 25px solid @black;
            }

            //animations
            display:none;
            z-index:-1;
            opacity:0;
            .translate(-50%, 20px);
            .single-transition;
            &.show {
                display:block;
                z-index:6;
                .animation(details-appear 0.3s ease-out 0s normal forwards);
            }

            .select-toggler {
                display: -ms-inline-flexbox;
                .display(inline-flex);
                .align-items(center);
                position:relative; z-index:1;
                top:auto; right:auto;
                overflow:visible;
                color:@white;
                margin:0;
                height:auto; width:auto;
                text-indent:0;

                .indicator {
                    position:relative;
                    height:35px; width:35px;
                    right:auto; top:auto;
                    margin-right:15px;
                }
            }
        }
        .close-details {
            position:absolute; z-index:3;
            top:0; right:0;
            height:45px; width:45px;
            overflow:hidden;
            color:@white;
            margin:0; padding:0;
            .single-transition;

            text-indent:-9999px;

            &:hover {background-color:@pure-black;}

            &:before, &:after {
                content:'';
                position:absolute;
                top:50%; left:50%;
                .transform(translate(-50%, -50%));
                width:2px; height:20px;
                background-color:@white;
                .single-transition;
            }
            &:before {.transform(translate(-50%, -50%) rotate(45deg));}
            &:after {.transform(translate(-50%, -50%) rotate(-45deg));}
        }

        .map-req {
            .block {color:@white; background-color:@black;}
        }

        //set all the color coded differences based on map section
        .ext-forces {
            .block.selected {
                border-color:@navy-blue;
                .icon {color:@navy-blue;}
                .select-toggler .indicator {background-color:@navy-blue;}
            }
            .block-details .header .icon {color:@navy-blue;}
            .section-title:before,
            .map-req .block {background-color:@navy-blue;}
            .row-title {background-color:@dark-navy-blue;}
        }
        .int-applications {
            .block.selected {
                border-color:@green;
                .icon {color:@green;}
                .select-toggler .indicator {background-color:@green;}
            }
            .block-details .header .icon {color:@green;}
            .section-title:before,
            .map-req .block {background-color:@green;}
            .row-title {background-color:@dark-green;}
        }
        .int-center {
            .block.selected {
                border-color:@orange;
                .icon {color:@orange;}
                .select-toggler .indicator {background-color:@orange;}
            }
            .block-details .header .icon {color:@orange;}
            .section-title:before,
            .map-req .block {background-color:@orange;}
            .row-title {background-color:@dark-orange;}
        }
        .int-platform {
            .block.selected {
                border-color:@red;
                .icon {color:@red;}
                .select-toggler .indicator {background-color:@red;}
            }
            .block-details .header .icon {color:@red;}
            .section-title:before,
            .map-req .block {background-color:@red;}
            .row-title {background-color:@dark-red;}
        }
        .ent-assets {
            .block.selected {
                border-color:@blue;
                .icon {color:@blue;}
                .select-toggler .indicator {background-color:@blue;}
            }
            .block-details .header .icon {color:@blue;}
            .section-title:before,
            .map-req .block {background-color:@blue;}
            .row-title {background-color:@dark-blue;}
        }
    }
}




//get started page
.GetStarted {
    .desktop-card {
        .card-content:last-child {padding:30px;}
        @media @medium {
            .flex-direction(row);
            .flex(0, 1, auto);
            .align-items(center);

            .background-image {width:50%; .align-self(stretch);}
            .card-content {width:50%;}
        }
    }
}







//ANIMATION LIBRARY
@media @medium {
    .passed-view .delay02 {.animation-delay(0.2s~"!important");}
    .passed-view .delay04 {.animation-delay(0.4s~"!important");}
    .passed-view .delay06 {.animation-delay(0.6s~"!important");}
    .passed-view .delay08 {.animation-delay(0.8s~"!important");}
    .passed-view .delay10 {.animation-delay(1.0s~"!important");}
    .passed-view .delay12 {.animation-delay(1.2s~"!important");}
    .passed-view .delay14 {.animation-delay(1.4s~"!important");}
    .passed-view .delay16 {.animation-delay(1.6s~"!important");}
    .passed-view .delay18 {.animation-delay(1.8s~"!important");}
    .passed-view .delay20 {.animation-delay(2.0s~"!important");}

    .slide-up, .slide-left, .slide-right, .slide-down, .fade-in {opacity:0;}
    .passed-view .slide-up {.animation(fade-slide-up 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-left {.animation(fade-slide-left 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-right {.animation(fade-slide-right 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-down {.animation(fade-slide-down 0.3s ease-out 0s normal forwards);}
    .passed-view .fade-in {.animation(opacity-reveal 0.3s ease-out 0s normal forwards);}
}

.keyframes(opacity-reveal;{
    0%{opacity:0;}
    100%{opacity:1;}
});
.keyframes(fade-slide-up;{
    0%{opacity:1; .translateY(0); height:auto;}
    100%{opacity:0; .translateY(10%); height:0;}
});
.keyframes(fade-slide-down;{
    0%{opacity:0; .translateY(-10%);}
    100%{opacity:1; .translateY(0);}
});
.keyframes(fade-slide-left;{
    0%{opacity:0; .translateX(10%);}
    100%{opacity:1; .translateX(0);}
});
.keyframes(fade-slide-right;{
    0%{opacity:0; .translateX(-10%);}
    100%{opacity:1; .translateX(0);}
});



.keyframes(details-appear;{
    0%{display:none; opacity:0; .translate(-50%, 20px); height:0;}
    1%{display:block; opacity:0; .translate(-50%, 20px); height:auto;}
    100%{display:block; opacity:1; .translate(-50%, 0); height:auto;}
});


.keyframes(panel-appear;{
    0%{display:none; opacity:0; .translateY(20px); height:0;}
    1%{display:block; opacity:0; .translateY(20px); height:auto;}
    100%{display:block; opacity:1; .translateY(0); height:auto;}
});
