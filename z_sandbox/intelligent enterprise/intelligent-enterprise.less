@import '../../settings.less';

@mapGutter: 25px;

@extForcesColor:       @navy-blue;
@entAssetsColor:       @blue;
@intPlatformColor:     @red;
@intTechniquesColor:   @orange;
@intApplicationsColor: @green;

//DIV WITH A NUMBER NEXT TO IT
.number-group {
    position:relative; z-index:1;
    padding:15px 0 5px 30px;
    &:before {
        display:block; position:absolute; z-index:-1;
        content:'';
        top:0px; left:0px;
        font-size:60px; line-height:60px;
        font-weight:600;
        color:@white;
        opacity:0.3;
    }
    @media @medium {
        padding-top:30px; padding-left:50px;
        &:before {
            font-size:120px; line-height:120px;
        }
    }
    &.one:before   {content:'1.'}
    &.two:before   {content:'2.'}
    &.three:before {content:'3.'}
    &.four:before  {content:'4.'}
    &.five:before  {content:'5.'}
}


//section styles
#hero {
    .display(flex);
    .flex-direction(column);
    .align-items(center);
    .justify-content(center);
    position:relative; z-index:0;
    min-height:500px; height:100vh; max-height:900px;
}
#scroll-content {
    color:@white;
    .angled-gradient(lighten(@black, 20%), darken(@black, 20%), @black);
    background-attachment:fixed;
}

#intelligence-map {
    z-index:4;
    padding:0;

    > .flex-row {.flex-wrap(nowrap);}

    //center the sticky div in the viewport when over the content
    //&.sticky-mode {.transition;}
    &.ext-forces,
    &.ent-assets,
    &.int-platform,
    &.int-center,
    &.int-architecture,
    &.int-program {top:50%!important; .translateY(-50%); .transition(0.7s);}
    //only center in the last div if it is also sticky
    &.sticky-mode.int-applications {top:50%!important; .translateY(-50%);}
    //move the map to correct size when over the different content sections
    &.ext-forces,
    &.ent-assets,
    &.int-platform,
    &.int-center,
    &.int-architecture,
    &.int-program,
    &.int-applications {
        @media @medium {> .flex-row {max-width:50%; .translateX(50%);}}
        @media @xlarge {> .flex-row {max-width:700px; .translateX(250px);}}
    }

    //base styles for each map block
    .map-section {
        .display(flex);
        .flex(1, 1, 0px);
        .flex-direction(column);
        .align-items(center);
        .justify-content(center);
        position:relative;
        margin:@mapGutter;
        background-color:@dark-gray;
        padding:20px;
        box-shadow: 2px 2px 5px fade(@pure-black, 50%);

        font-family:@myriad-pro;
        color:@white;
        font-size:18px; line-height:1.1em;
        font-weight:600;
        .uppercase;
        .transition(0.5s);

        .map-section-title {display:block; width:100%; max-height:100vh; opacity:1; .translate;}
        .revealed-content {display:block; width:100%; max-height:0; opacity:0; .translate;}

        &.ext-forces       {
            background-color:@extForcesColor;
            .icon-list-title {background-color:@extForcesColor;}
            .icon {color:@extForcesColor;}
        }
        &.ent-assets       {
            background-color:@entAssetsColor;
            .icon-list-title {background-color:@entAssetsColor;}
            .icon {color:@entAssetsColor;}
        }
        &.int-platform     {
            background-color:@intPlatformColor;
            .icon-list-title {background-color:@intPlatformColor;}
            .icon {color:@intPlatformColor;}
        }
        &.int-center       {
            background-color:@intTechniquesColor;
            .icon-list-title {background-color:@intTechniquesColor;}
            .icon {color:@intTechniquesColor;}
        }
        &.int-architecture {
            background-color:@intTechniquesColor;
            .icon-list-title {background-color:@intTechniquesColor;}
            .icon {color:@intTechniquesColor;}
        }
        &.int-program      {
            background-color:@intTechniquesColor;
            .icon-list-title {background-color:@intTechniquesColor;}
            .icon {color:@intTechniquesColor;}
        }
        &.int-applications {
            background-color:@intApplicationsColor;
            .icon-list-title {background-color:@intApplicationsColor;}
            .icon {color:@intApplicationsColor;}
        }
    }//end map section

    .icon-list {
        .icon-list-title {
            display:block;
            padding:10px;
            background-color:@black;
            color:@white;
        }
        .icon-group {
            list-style:none;
            padding:15px;
            > li {
                .display(flex);
                .align-items(center);
                .justify-content(flex-start);
                .flex-wrap(nowrap);

                font-size:14px; line-height:14px;
                font-weight:400;
                text-align:left;
                text-transform:none;
                letter-spacing:normal;
                > img {margin:0 10px 0 0;}
            }
        }
    }

    //layout the map
    .middle-row {
        .display(flex);
        .flex(5, 1, 0px);
        .flex-direction(column);
        .align-items(center);
        .justify-content(space-between);

        @media @medium {.flex-direction(column-reverse);}

        > .map-section {
            .flex(1, 1, auto);
            width:100%; margin-bottom:0;
            &:last-child{margin-bottom:@mapGutter;}
            //flip it for desktop
            @media @medium {
                margin-top:0; margin-bottom:@mapGutter;
                &:last-child{margin-top:@mapGutter;}
            }
        }
    }
    .int-techniques {
        .display(flex);
        .flex-direction(row);
        .align-items(stretch);
        .justify-content(space-between);
        .flex-wrap(wrap);
        width:~"calc(100% + (@{mapGutter} * 2))";

        > .map-section {
            margin-bottom:0; margin-right:0;
            &:last-child{margin-right:@mapGutter;}
            //flip it for desktop
            @media @medium {
                margin-bottom:@mapGutter; margin-top:0;
            }
        }
    }

    //specific map transformations per content section
    &.ext-forces {
        .map-section {
            &:not(.ext-forces) {
                background-color:@dark-gray; opacity:0.6; font-size:90%; padding:10px;
            }
            &.ext-forces {
                .flex(3, 1, 0px);
                .justify-content(flex-start);
                padding:0;
                background-color:@white;
                color:@monsoon;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                .revealed-content {max-height:100vh; opacity:1;}
            }
        }
        .middle-row {
            .flex(1, 1, 0px);
            .justify-content(center);

            > .map-section {.flex(0, 1, auto);}
        }
        .int-techniques {
            .align-items(center);
            .justify-content(center);
            width:100%;
            > .map-section {margin:0; &:last-child{margin-bottom:@mapGutter;}}
        }
    }//end external forces changes

    &.ent-assets {
        .map-section {
            &:not(.ent-assets) {
                background-color:@dark-gray; opacity:0.6; font-size:90%; padding:10px;
            }
            &.ext-forces {
                .flex(0, 0, auto);
                width:50px;
                .map-section-title {position:absolute; top:50%; left:50%; white-space:nowrap; width:auto; .transform(translate(-50%) rotate(-90deg));}
                &:last-child .map-section-title {.transform(translate(-50%) rotate(90deg));}
                .revealed-content {width:0px;}
            }
            &.ent-assets {
                .justify-content(flex-start);
                padding:0;
                background-color:@white;
                color:@monsoon;

                .map-section-title {max-height:0; opacity:0; margin:0; padding:0;}
                .revealed-content {
                    max-height:100vh; opacity:1;

                    .display(flex);
                    .flex-direction(row);
                    .align-items(flex-start);
                    .justify-content(space-between);
                    .flex-wrap(wrap);
                    .flex(0, 0, auto);
                }

                .icon-list {
                    .display(flex);
                    .flex-direction(column);
                    .align-items(center);
                    .justify-content(flex-start);
                    .flex-wrap(wrap);
                    .flex(1, 1, 0);

                    .icon-list-title {width:100%;}
                    &.data, &.services {width:100%;.flex(0, 0, auto);}
                    &.apps {border-right:1px solid @white;}
                    .icon-group {
                        .display(flex);
                        .flex-direction(row);
                        .align-items(flex-start);
                        .justify-content(space-between);
                        padding:5px 0 0 0;
                        width:~"calc(100% - 10px)";
                        > li {
                            .display(flex);
                            .flex-direction(column);
                            .align-items(center);
                            .justify-content(flex-start);
                            .flex-wrap(wrap);
                            .flex(1, 1, 0);
                            padding:5px;
                            text-align:center;
                            > img {margin:0 0 10px 0;}
                        }
                    }
                }
            }
        }
        .middle-row {
            .flex(1, 1, 1px);

        }
    }//end enterprise assets changes
}

.scroll-details-row {
    .display(flex);
    .flex-direction(column);
    .align-items(center);
    .justify-content(center);
    position:relative; z-index:3;
    height:100vh;
    max-height:100vh;
}

//make this div block the scroll portion just in case
#customers {position:relative; z-index:5; background-color:@white;}



//KEYFRAMES FOR EVERYTHING

//ANIMATION LIBRARY
@media @medium {
    .passed-view .delay02 {.animation-delay(0.2s~"!important");}
    .passed-view .delay04 {.animation-delay(0.4s~"!important");}
    .passed-view .delay06 {.animation-delay(0.6s~"!important");}
    .passed-view .delay08 {.animation-delay(0.8s~"!important");}
    .passed-view .delay10 {.animation-delay(1.0s~"!important");}
    .passed-view .delay12 {.animation-delay(1.2s~"!important");}
    .passed-view .delay14 {.animation-delay(1.4s~"!important");}
    .passed-view .delay16 {.animation-delay(1.6s~"!important");}
    .passed-view .delay18 {.animation-delay(1.8s~"!important");}
    .passed-view .delay20 {.animation-delay(2.0s~"!important");}

    .slide-up, .slide-left, .slide-right, .slide-down, .fade-in {opacity:0;}
    .passed-view .slide-up {.animation(fade-slide-up 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-left {.animation(fade-slide-left 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-right {.animation(fade-slide-right 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-down {.animation(fade-slide-down 0.3s ease-out 0s normal forwards);}
    .passed-view .fade-in {.animation(opacity-reveal 0.3s ease-out 0s normal forwards);}
}

.keyframes(opacity-reveal;{
    0%{opacity:0;}
    100%{opacity:1;}
});
.keyframes(fade-slide-up;{
    0%{opacity:1; .translateY(0); height:auto;}
    100%{opacity:0; .translateY(10%); height:0;}
});
.keyframes(fade-slide-down;{
    0%{opacity:0; .translateY(-10%);}
    100%{opacity:1; .translateY(0);}
});
.keyframes(fade-slide-left;{
    0%{opacity:0; .translateX(10%);}
    100%{opacity:1; .translateX(0);}
});
.keyframes(fade-slide-right;{
    0%{opacity:0; .translateX(-10%);}
    100%{opacity:1; .translateX(0);}
});
.keyframes(fade-slide-diagonal-down, {
    0%   { opacity: 0; .translate(-10px, -10px); }
    100% { opacity: 1; .translate(0, 0); }
});
