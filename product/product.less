@import '../settings.less';
@import '../overrides.less';

//set limity for how small the line can get
.line.tiny {min-width:50px;}

//basic setup for an image going off the page
.offpage-image {
    width:150%;
    max-width:none;
    &.left {float:right; &.pc-laptop, &.macbook-pro, &.macbook-air {margin-right:-10%;}}
    &.right {float:left; &.pc-laptop, &.macbook-pro, &.macbook-air {margin-left:-10%;}}
}


// banner images for all pages
.product #hero.background-image { background-image: url('/getmedia/2838b8b1-25b0-43f6-824f-142739031279/two-monitors-wood-desk'); }


//product overview page
#product {
    #hero {
        .resource-thumbnail:after {display:none;}
    }
    #capabilities {
        .offpage-image {
            margin-left:-30%;
            @media @large {width:270%; margin-left:-100%;}
            @media @xlarge {width:200%; margin-left:-70%;}
        }
    }
    .platform-diagram {
        display:block; position:relative;
        color:@white;
        margin:30px auto 50px auto;
        max-width:850px;
        text-align:center;

        .component {
            display:inline-block; position:relative;
            vertical-align:bottom;
            width:150px; height:100px;
            max-width:~"calc(50% - 13.5px)";
            padding:50px 10px 10px 10px;
            background-color:@navy-blue;
            text-align:center;
            @media @medium {
                display:block; position:absolute;
                width:185px; height:60px;
                padding:10px 0;
                text-align:left;
                white-space:nowrap;
            }

            //position the content boxes around the cogs
            &.top.right   {background-color:@orange;}
            &.bottom.left {background-color:@blue;}
            &.left        {margin-right:20px;}
            &.bottom      {vertical-align:top;}
            @media @medium {
                &.top.left     {top:10px; left:10px; text-align:right;}
                &.top.right    {top:10px; right:10px;}
                &.bottom.left  {bottom:10px; left:10px; text-align:right;}
                &.bottom.right {bottom:10px; right:10px;}
            }
            @media @large {
                &.top.left {left:10%;}
                &.top.right {right:10%;}
            }

            //align the icon and text within the box
            .icon-svg {
                position:absolute; display:block;
                top:15px; left:50%;
                .translateX(-50%);
                height:35px;
            }
            > h3 {
                display:block;
                font-size:26px; line-height:35px;
                margin:0; padding:0;
                -webkit-font-smoothing: antialiased;
            }
            @media @medium {
                .icon-svg {
                    position:relative; display:inline-block;
                    vertical-align:middle;
                    top:auto; left:auto;
                    .translateX(0);
                    margin:0 15px;
                }
                > h3 {
                    display:inline-block;
                    vertical-align:middle;
                }
            }

            //connecting line
            &:after {
                position:absolute; z-index:0;
                content:'';
                width:1px; height:75px;
                background-color:@gainsboro;
                top:100%; left:41%;
                @media @medium {
                    top:50%; margin-top:-1px;
                    width:50%; height:1px;
                }
            }
            &.right:after {left:auto; right:41%;}
            &.bottom:after {top:auto; bottom:100%;}
            @media @medium {
                &.left:after   {left:100%;}
                &.right:after  {right:100%;}
                &.bottom:after {top:50%; bottom:auto;}
            }
            @media @large {
                &.top:after    {width:35%;}
                &.bottom:after {width:75%;}
            }
        }//end component
        .cog-graphic {
            display:block; position:relative; z-index:2;
            width:260px; height:260px;
            left:50%;
            margin:35px 0;
            .translateX(-50%);

            .icon-svg {
                max-width:40px;
                height:40px;
                display:block;
                margin:0 auto 5px auto;
            }
            h3 {
                font-size:26px; line-height:26px;
                margin:0; padding:0;
            }
            .center-wrapper {
                position:relative; z-index:3;
                overflow:hidden;
                width:190px; height:190px;
                text-align:center;
                margin:0 auto;
                top:50%;
                .translateY(-50%);
                .center {
                    position:absolute; z-index:4;
                    top:50%; left:50%;
                    .translate(-50%, -55%);
                }
            }//end center wrapper
            .small-cog {
                position:absolute; z-index:2;
                width:80px; height:80px;
                &.top    {top:0;}
                &.bottom {bottom:0;}
                &.left   {left:0;}
                &.right  {right:0;}
                &:before {
                    position:absolute; z-index:2;
                    content:"";
                    height:16px; width:16px;
                    background-color:@navy-blue;
                    left:50%; top:50%;
                    .round;
                    margin-left:-8px; margin-top:-8px;
                }
                &.bottom.left:before {background-color:@blue;}
                &.top.right:before   {background-color:@orange;}
                &.top.left           {.rotation(4deg);}
                &.top.right          {.rotation(7deg);}
                &.bottom.left        {.rotation(10deg);}
                &.bottom.right       {.rotation(2deg);}
                > img {.animation(rotate-360 8s linear 0s infinite);}
            }//end small-cog
            .big-cog {.animation(rotate-360 20s linear 0s infinite reverse);}
        }//end cog-graphic
    }//end platform diagram
}//end #product page


//packaging page
// explore nav

#explore {

    .ratio {
        max-height: 300px;
    }
    .section-name {
        font-size: 18px;
        @media @medium { font-size: 16px; }
        @media @large { font-size: 21px; }
        line-height: @line-height;
        font-family: @myriad-pro;
        .uppercase;
    }
}

#to-top {
    position: fixed;
    bottom: @column-gutter / 2; right: @column-gutter / 2;
    @media @medium { bottom: @column-gutter; right: @column-gutter; }
    @media @large { bottom: @column-gutter + @column-gutter / 2; right: @column-gutter + @column-gutter / 2; }
    z-index: 1;
    .transition(.4s);

    &.hidden {
        opacity: 0;
        visibility: hidden;
    }

    .label {
        .display(flex);
        .align-items(center);
        height: extract(@icon-sizes, 3) * 2;
        .position(absolute, @right: (extract(@icon-sizes, 3) * 2));
        opacity: 0;
        .transition;
        text-align: center;
        background-color: darken(@dark-gray, @darken);
        font-size: 12px;
        font-family: @myriad-pro;
        color: @white;
        .uppercase;
    }

    &:hover, &:active { .label {
        opacity: 1;
        padding: 0 (extract(@icon-sizes, 3) / 2);
    } }
}



//KEYFRAMES FOR EVERYTHING

//ANIMATION LIBRARY
@media @medium {
    .passed-view .delay02 {.animation-delay(0.2s~"!important");}
    .passed-view .delay04 {.animation-delay(0.4s~"!important");}
    .passed-view .delay06 {.animation-delay(0.6s~"!important");}
    .passed-view .delay08 {.animation-delay(0.8s~"!important");}
    .passed-view .delay10 {.animation-delay(1.0s~"!important");}
    .passed-view .delay12 {.animation-delay(1.2s~"!important");}
    .passed-view .delay14 {.animation-delay(1.4s~"!important");}
    .passed-view .delay16 {.animation-delay(1.6s~"!important");}
    .passed-view .delay18 {.animation-delay(1.8s~"!important");}
    .passed-view .delay20 {.animation-delay(2.0s~"!important");}

    .slide-up, .slide-left, .slide-right, .slide-down, .fade-in {opacity:0;}
    .passed-view .slide-up {.animation(fade-slide-up 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-left {.animation(fade-slide-left 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-right {.animation(fade-slide-right 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-down {.animation(fade-slide-down 0.3s ease-out 0s normal forwards);}
    .passed-view .fade-in {.animation(opacity-reveal 0.3s ease-out 0s normal forwards);}
}

.keyframes(opacity-reveal;{
    0%{opacity:0;}
    100%{opacity:1;}
});
.keyframes(fade-slide-up;{
    0%{opacity:0; .translateY(10%);}
    100%{opacity:1; .translateY(0);}
});
.keyframes(fade-slide-down;{
    0%{opacity:0; .translateY(-10%);}
    100%{opacity:1; .translateY(0);}
});
.keyframes(fade-slide-left;{
    0%{opacity:0; .translateX(10%);}
    100%{opacity:1; .translateX(0);}
});
.keyframes(fade-slide-right;{
    0%{opacity:0; .translateX(-10%);}
    100%{opacity:1; .translateX(0);}
});
.keyframes(rotate-360, {
    0% {.rotation(0deg);}
    100% {.rotation(360deg);}
});
