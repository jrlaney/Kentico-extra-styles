@import '../settings.less';

main, section {overflow:hidden;}

.button-group .button {max-width:100%;}

.InternetExplorer .slick-slide > img {flex-shrink:0;}

//component styles

//TEMPORARY CARD STYLES ADD UNTIL GLOBAL CARD DEPLOYMENT
.cards .card {
	font-family:@myriad-pro;
	font-size:16px;
	p {font-size:16px;}

    .card-content.no-padding .ratio:not(.background-image) {border-bottom:1px solid @iron;}

	.card-type {font-weight:600!important;}
	.card-header .card-type {border:none; white-space:normal; padding:0px;}
	.card-title {font-weight:400;}
	.card-details {
		font-size:14px; line-height:14px;
		font-weight:400;
		.uppercase;

		> span {
			display:block;
			margin-top:5px;
			&:first-child {font-weight:600; margin-top:0;}
		}
	}
	.card-description {
		font-size:16px;
		color:@dark-gray;
		font-weight:400;
	}

	.card-footer .button {
		display:block;
		width:100%;
	}

	&:hover {box-shadow: 3px 3px 5px fade(@pure-black, 20%);}

	&.component-red {
		.card-type {border-color:@red; color:@red;}
		&.hover-container:hover .card-footer .button.light-gray,
		.card-footer .button.light-gray:hover {background-color:@red; color:@white;}
	}
	&.component-orange {
		.card-type {border-color:@orange; color:@orange;}
		&.hover-container:hover .card-footer .button.light-gray,
		.card-footer .button.light-gray:hover {background-color:@orange; color:@white;}
	}
	&.component-green {
		.card-type {border-color:@green; color:@green;}
		&.hover-container:hover .card-footer .button.light-gray,
		.card-footer .button.light-gray:hover {background-color:@green; color:@white;}
	}
	&.component-blue {
		.card-type {border-color:@blue; color:@blue;}
		&.hover-container:hover .card-footer .button.light-gray,
		.card-footer .button.light-gray:hover {background-color:@blue; color:@white;}
	}
	&.component-navy-blue {
		.card-type {border-color:@navy-blue; color:@navy-blue;}
		&.hover-container:hover .card-footer .button.light-gray,
		.card-footer .button.light-gray:hover {background-color:@navy-blue; color:@white;}
	}
}

// special typography for feature pages
.Product.PageMenuItem .page-title {
    font-family:@myriad-pro;
    font-size:20px; line-height:22px;
    text-transform:uppercase;
    letter-spacing:0.2em;
    font-weight:600;
    color:@red;
}

//for a demo iframe
.demo-wrapper {
    position:relative;
    width:100%!important; height:100%!important;
    padding-top:~"calc(100vh - 80px)";
    @media @medium {padding-top:65%;}
    > iframe {
        position:absolute;
        width:100%; height:100%;
        top:0; left:0;
    }
}

//feature hero white triangle bottom
#hero.bottom-white-triangle {
    position:relative; overflow:hidden;
    padding-bottom:50px + 20px!important;
    @media @medium { padding-bottom:75px + 20px!important; }
    @media @large { padding-bottom:100px + 20px!important; }
    @media @xlarge { padding-bottom:130px + 20px!important; }

    &:before, &:after {
        content:'';
        display:block; position:absolute;
    }
    &:before {
        z-index:1;
        height:0; width:0;
        bottom:0; left:50%;
        .translateX(-50%);
        border-left:50vw solid transparent;
        border-right:50vw solid transparent;
        border-top:50px solid @white;
        @media @medium { border-top-width:75px; }
        @media @large { border-top-width:100px; }
        @media @xlarge { border-top-width:130px; }
    }
    &:after {
        z-index:0;
        bottom:0; left:0;
        width:100%;
        background-color:@light-gray;
        height:50px;
        @media @medium { height:75px; }
        @media @large { height:100px; }
        @media @xlarge { height:130px; }
    }
}

//standard styles for gridder usage
.gridder {
    position:relative; overflow:hidden;
    padding-left:20px;
    padding-right:20px;
    padding-bottom:40px;
    .single-transition;
    &:after { //the dark background that shows up when the grid is opened
        display:block; position:absolute; z-index:1;
        content:"";
        width:100%; height:100%;
        top:0; left:0; right:0; bottom:0;
        .angled-gradient(#222222, #444444);

        //animated properties
        opacity:0;
        .single-transition(0.3s, ease-out, opacity, 0.5s);
    }
    .grid-item {
        position:relative;
        padding:5px; z-index:2;
        .order(-1);
    }
    .card {
        cursor:pointer;
        border-top-color:@gainsboro;
        .card-content:first-child {
            border-bottom:1px solid @gainsboro;
        }
        .card-content .logo {
            .position(absolute, 50%, 50%, null, null);
            max-height: ~"calc(100% - 40px)";
            max-width: ~"calc(100% - 40px)";
            .translate(-50%, -50%);
        }
        //animated properties
        opacity:1;
        .translateY(0);
        -webkit-transition:opacity 0.3s ease-in 0.5s, transform 0.3s ease-in 0.5s, box-shadow 0.2s ease-out 0s;
        transition:opacity 0.3s ease-in 0.5s, transform 0.3s ease-in 0.5s, box-shadow 0.2s ease-out 0s;
    }
    .gridder-show {
        position:absolute; z-index:3;
        padding:0;
        width:100%; top:0px; left:10px;
        margin-left:-10px; margin-right:-10px;
        overflow:hidden;
        color:#ffffff; text-align:left;
    }
    .gridder-padding {
        display:block; position:relative;
        padding:70px 20px 40px 20px;

        //animation for when the content block appears
        .animation(fade-slide-down 0.5s 0s ease-out both);
    }
    .gridder-close {
        position:absolute; z-index:3;
        top:35px; right:0;
        height:50px; width:50px;
        cursor:pointer;
        &:before,
        &:after {
            position:absolute; display:block;
            content:"";
            top:50%; left:50%;
            margin-top:-15px; margin-right:-15px;
            height:30px; width:2px;
            background-color:#dddddd;
        }
        &:before {.rotate(45deg);}
        &:after {.rotate(-45deg);}
        //ANIMATED PROPERTIES
        background-color:rgba(0,0,0,0.0);
        .single-transition;
        &:hover {background-color:rgba(0,0,0,0.4); color:@white;}
    }
    .gridder-nav {
        position:absolute; z-index:3;
        top:35px; left:0;
        height:50px; width:50px;
        cursor:pointer;
        //ANIMATED PROPERTIES
        background-color:rgba(0,0,0,0.0);
        .single-transition;
        &:hover {background-color:rgba(0,0,0,0.4); color:@white;}
        &.next {
            left:50px;
            .rotate(180deg);
        }
        &.disabled,
        &.disabled:hover {
            opacity:0.2;
            cursor:default;
            background-color:rgba(0,0,0,0.0);
        }
        &:before,
        &:after {
            position:absolute; display:block;
            content:"";
            top:50%; left:50%; margin-left:-4px;
            height:18px; width:2px;
            background-color:#dddddd;
        }
        &:before {
            margin-top:-15px;
            .rotate(45deg);
        }
        &:after {
            margin-top:-3px;
            .rotate(-45deg);
        }
    }
    .gridder-back {
        position:absolute; z-index:3;
        top:0; left:0; right:0;
        padding:10px 20px 10px 40px;
        height:35px;
        background-color:rgba(0,0,0,0.4);
        font-family:@myriad-pro;
        font-weight:300;
        font-size:14px; line-height:16px;
        color:@gray; .uppercase;
        &:before,
        &:after {
            position:absolute; display:block;
            content:"";
            top:50%; left:20px;
            height:10px; width:2px;
            background-color:@gray;
        }
        &:before {
            margin-top:-9px;
            .rotate(45deg);
        }
        &:after {
            margin-top:-2px;
            .rotate(-45deg);
        }
    }

    //ANIMATION END STATES
    &.hasSelectedItem {
        .card {
            /*opening timing on the cards*/
            opacity:0;
            .translateY(10px);
            -webkit-transition:opacity 0.5s ease-out 0s, transform 0.5s ease-out 0s, box-shadow 0.2s ease-out 0s;
            transition:opacity 0.5s ease-out 0s, transform 0.5s ease-out 0s, box-shadow 0.2s ease-out 0s;
        }
        &:after {
          opacity:1;
          .single-transition(0.5s, ease-out, opacity, 0.3s);
        }
    }

    @media @medium {
        margin-left:0; margin-right:0;
        padding-left:0; padding-right:0; padding-bottom:60px;
        .grid-item {padding:10px;}
        .gridder-show {position:relative; top:auto; left:auto;}
        .gridder-padding {padding:70px 50px 0 50px;}
        .gridder-close {top:0;}
        .gridder-nav {
            top:50%;
            height:100px;
            margin-top:-30px;
            &.next {right:0; left:auto;}
        }
        .gridder-back {
            right:auto;
            height:auto;
            font-size:18px; line-height:20px;
        }
        .card .title {font-size:26px; line-height:32px;}
        .gridder-back {
            background-color:rgba(0,0,0,0.0);
            .single-transition;
        }
        .gridder-back:hover {background-color:rgba(0,0,0,0.4); color:#ffffff;}
    }
    @media @large {padding-bottom:80px;}
}

.gridder-content {display:none;}


//basic setup for an image going off the page
.offpage-image {
    width:150%;
    max-width:none;
    &.left {float:right;}
    &.right {float:left;}
    @media @large {
        &.left {margin-right:5%; &.pc-laptop, &.macbook-pro, &.macbook-air {margin-right:-10%;}}
        &.right {margin-left:5%; &.pc-laptop, &.macbook-pro, &.macbook-air {margin-left:-10%;}}
    }
}
.stacked-mockups {position:relative;}
.z-1 {position:relative; z-index:1;}
.z-2 {position:relative; z-index:2;}
.z-3 {position:relative; z-index:3;}



//DIV WITH COLOR TRIANGLE NEXT TO IT
.triangle-group {
    position:relative;
    padding:5px 0 5px 20px;
    &:before {
        display:block; position:absolute;
        content:'';
        top:5px; left:-10px;
        width:0; height:0;
        border-left: 10px solid transparent;
        border-right: 10px solid @red;
        border-top: 10px solid transparent;
    }
    @media @medium {
        padding-left:25px;
        &:before {
            left:-15px;
            border-left-width: 15px;
            border-right-width: 15px;
            border-top-width: 15px;
        }
    }
    &.red:before {border-right-color:@red;}
    &.orange:before {border-right-color:@orange;}
    &.green:before {border-right-color:@green;}
    &.blue:before {border-right-color:@blue;}
    &.navy-blue:before {border-right-color:@navy-blue;}

    &.white:before {border-right-color:@white;}
    &.light-gray:before {border-right-color:@light-gray;}
    &.gray:before {border-right-color:@gray;}
    &.dark-gray:before {border-right-color:@dark-gray;}
    &.black:before {border-right-color:@black;}
}



//for a grid of links with colored icons and left border hover state
.icon-link-grid {
    .grid-item {
        .display(flex);
        .align-items(center);
        position:relative; overflow:hidden;
        padding-top:20px; padding-bottom:20px;

        font-family:@myriad-pro;
        font-size:14px; line-height:1.2em;
        .uppercase;
        font-weight:400;

        .icon {margin-right:10px;}
        &:before {
            content:'';
            display:block; position:absolute;
            top:0; left:0;
            width:3px; height:100%;
            .translateX(-3px);
            .single-transition;
        }
        &.red:before {background-color:@red;}
        &.orange:before {background-color:@orange;}
        &.green:before {background-color:@green;}
        &.blue:before {background-color:@blue;}
        &.navy-blue:before {background-color:@navy-blue;}
        &:hover {
            padding-left:20px; padding-right:10px;
            &:before {.translateX(0);}
            &.red .icon {color:@red;}
            &.orange .icon {color:@orange;}
            &.green .icon {color:@green;}
            &.blue .icon {color:@blue;}
            &.navy-blue .icon {color:@navy-blue;}
        }
    }
    &.light .grid-item {
        color:@black;
        border:1px solid fade(@pure-black, 10%);
        border-width:0 1px 1px 0;
        &:hover {background-color:fade(@white, 50%);}
    }
    &.dark .grid-item {
        color:@white;
        border:1px solid fade(@white, 10%);
        border-width:0 1px 1px 0;
        &:hover {background-color:fade(@pure-black, 40%);}
    }
}

//new vertical panelstack
@media @medium {
    .panelstack.vertical-panelstack {
        .display(flex);
        .flex(0, 1, auto);
        width: 100%;
        .flex-direction(row);
        .flex-wrap(wrap);
        .justify-content(start);
        .align-items(stretch);
        background-color:@light-gray;

        .panel-nav, .panel-content {
            .flex(0, 1, auto);
            .display(flex);
            .flex-direction(column);
            .flex-wrap(wrap);
            .align-items(flex-start);
            float:none;
        }
        .panel-nav {
            z-index:1;
             padding-bottom:0;
             width:40%;
             .box-shadow(1px 1px 10px fade(@pure-black, 20%));
             background-color:@black;
             .panel-nav-elem {
                 width:100%;
                 border:none;
                 > a {
                     color:@white;
                     padding:15px 40px 15px 20px;
                     opacity:0.5;
                     &:hover {
                         color:@white;
                         opacity:1;
                         background-color: fade(@pure-black, 10%);
                     }
                     &:before {
                         display:block; position:absolute;
                         content:'';
                         top:50%; right:15px;
                         width:0; height:0;
                         border-top:7px solid transparent;
                         border-bottom:7px solid transparent;
                         border-left:7px solid @white;
                         margin:0;
                         .translate(0, -50%);
                         .single-transition;
                     }
                     &:after {display:none;}
                 }//end > a
                 &.active-panel > a {
                     opacity:1;
                     background-color:@red;
                     color:@white;
                     &:before {
                         opacity:1;
                         border-top-width:10px;
                         border-bottom-width:10px;
                         border-left-width:10px;
                         border-left-color:@red;
                         .translate(25px, -50%);
                     }
                 }//end active panel styles
             }//end panel-nav-elem
        }
        .panel-content {
            z-index:0;
            width:60%;
            border:none;
            opacity:0;
            .animation(fade-slide-right 0.3s ease-out 0.2s normal forwards);
            padding:30px;
        }//end panel content
    }// end panelstack vertical

    .panelstack.vertical-panelstack {
        .loop-colors(@i) when (@i > 0) {
            .loop-colors(@i - 1);

            @color-class: extract(@color-classes, @i);
            @color: extract(@colors, @i);

            &.@{color-class} {
                .panel-nav .panel-nav-elem.active-panel>a {background-color:@color}
                .panel-nav .panel-nav-elem.active-panel>a:before {border-left-color:@color;}
            }
        }
        .loop-colors(length(@color-classes));
    }
}//end medium media query
@media @large {
    .panelstack.vertical-panelstack {
        .panel-nav {width:30%;}
        .panel-content {width:70%; padding:30px 50px;}
    }
}//end large media query



//fancy angled banner for products child pages
#hero.angled-banner {
    overflow:hidden;
    color:@white;
    @media @medium {background-color:@white!important; overflow:visible; padding-bottom:0;}
    .flex-row {position:relative; z-index:1;}
    .logo-lockup {
        .h2.text-uppercase {letter-spacing:0.2em; @media @small-only {font-size:18px; line-height:24px;}}
        .icon {
            margin-right:10px;
            @media @medium {margin-right:20px;}
        }
    }
    .angle-wrapper {
        display:block; position:absolute; z-index:0;
        height:100%; width:100%;
        top:0; left:0;
        @media @xlarge {max-width:@large-breakpoint; left:50%; .translateX(-50%);}
        .angle {
            position:absolute;
            top:0;
            &.left {
                z-index:2; right:0;
                width:100vw; padding-bottom:100vw;
                mix-blend-mode: multiply;
                @media @medium {width:105vw; padding-bottom:105vw; right:-5vw;}
                @media @xlarge {width:100vw; padding-bottom:100vw; right:0;}
            }
            &.right {
                z-index:1;
                width:75vw; padding-bottom:75vw;
                left:25vw;
                background-repeat:no-repeat;
                background-position:center;
                background-size:cover;
                @media @small-only {background-blend-mode:multiply;}
                @media @medium {width:60vw; padding-bottom:60vw; left:40vw;}
                @media @xlarge {width:50vw; padding-bottom:50vw; left:50%;}
            }
        }
    }

	.InternetExplorer & {
		.angle-wrapper {display:none;}
		&:after {
			content:'';
			position:absolute;
			height:50vw; width:100vw;
			bottom:-10vw;left:0;
			.transform(skew(0, -10deg));
		}
	}

    //changes angle color based on the defined hero row color
    .loop-colors(@i) when (@i > 0) {
        .loop-colors(@i - 1);

        @color-class: extract(@color-classes, @i);
        @color: extract(@colors, @i);

        &.@{color-class} {
            background-color:@color;
            .angle {background-color:darken(desaturate(@color, 5%), 5%); @media @medium {background-color:@color;}}
            .angle.right {background-color:lighten(saturate(@color, 5%), 20%); @media @medium {background-color:@color;}}
			.InternetExplorer & {
				background-color:@color!important;
				&:after {background-color:@color!important;}
			}
        }
    }
    .loop-colors(length(@color-classes));
}

//DIV WITH A NUMBER NEXT TO IT
.number-group {
    position:relative; z-index:1;
    padding:15px 0 5px 30px;
    &:before {
        display:block; position:absolute; z-index:-1;
        content:'';
        top:0px; left:0px;
        font-size:60px; line-height:60px;
        font-weight:600;
        opacity:0.1;
    }
    @media @medium {
        padding-top:30px; padding-left:50px;
        &:before {
            font-size:120px; line-height:120px;
        }
    }
    &.one:before   {content:'1'}
    &.two:before   {content:'2'}
    &.three:before {content:'3'}
    &.four:before  {content:'4'}
    &.five:before  {content:'5'}

    &.small {
        padding:10px 0 5px 20px;
        &:before {font-size:40px; line-height:40px;}
        @media @medium {&:before {font-size:60px; line-height:60px;}}
    }
}









//INDIVIDUAL PAGE STYLES

//PRODUCTS OVERVIEW
#products-overview {
    .device-family {
        position:relative;
        padding-bottom:5%; padding-top:30px; margin-bottom:30px;
        .device-mockup {
            position:absolute; z-index:1;

            &.iphone          {width:8%; bottom:0; left:0; z-index:2;}
            &.macbook-pro     {width:47%; bottom:5%; left:0;}
            &.ipad            {width:24%; bottom:0; right:0; z-index:2;}
            &.ipad.white      {width:30%; bottom:6%; right:5%;}
            &.mac-thunderbolt {
                position:relative; z-index:0;
                margin:0 auto;
                width:60%;
            }
        }
    }
    #analytics {
        .offpage-image {
            @media @medium {width:200%;}
            @media @large {width:230%;}
            @media @large {width:200%;}
        }
    }
    #mobile {
        .device-mockup {
            &.ipad {
                position:relative; z-index:0;
                width:130%;
                margin-right:20%;
                margin-bottom:20px;
            }
            &.iphone {
                position:absolute; z-index:1;
                width:30%;
                right:10%; bottom:20px;
            }
            @media @medium {
                &.ipad {width:150%;}
                &.iphone {width:35%;}
            }
        }
    }
    #enterprise-platform {
        .offpage-image {
            @media @medium {width:200%;}
            @media @large {width:230%;}
            @media @large {width:200%;}
        }
    }
    #embedded-analytics {
        .offpage-image {
            position:relative; z-index:0;
            @media @medium {
                width:200%;
            }
        }
    }
    #digital-id-mobile-telemetry {
        .device-mockup {
            &.ipad {
                position:relative; z-index:0;
                width:130%;
                margin-right:20%;
                margin-bottom:20px;
            }
            &.iphone {
                position:absolute; z-index:1;
                width:30%;
                right:10%; bottom:20px;
            }
            @media @medium {
                &.ipad {width:150%;}
                &.iphone {width:35%;}
            }
        }
    }
    #cloud {
        .offpage-image {
            position:relative; z-index:0;
            @media @medium {
                width:200%;
            }
        }
    }
}//end products overview styles



//ANALYTICS PAGES
.Analytics {
    #introduction {
        .device-mockup {
            width:215%;
        }
    }
    #connect-prepare {
        .offpage-image {
            //margin-left:-30%;
            @media @medium {
                width:1000px;
                margin-left:-20%;
            }
            @media @large {
                margin-left:-22%;
            }
        }
    }

    #visualization-slider {
        @media @medium {
            position:relative;
            &:before, &:after {
                position:absolute; z-index:2;
                content:'';
                height:100%; width:20px;
                top:0;
            }
            &:before {
                left:0;
                background: -moz-linear-gradient(left, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 100%);
                background: -webkit-linear-gradient(left, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%);
                background: linear-gradient(to right, rgba(255,255,255,1) 0%,rgba(255,255,255,0) 100%);
                filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#00ffffff',GradientType=1 );
            }
            &:after {
                right:0;
                background: -moz-linear-gradient(left, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);
                background: -webkit-linear-gradient(left, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);
                background: linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%);
                filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=1 );
            }
        }
        .slick-track {
            padding:5% 0;
        }
        .slick-slide {
            z-index:0;
            padding:15px;
            opacity:0.5;
            .single-transition(.2s, ease-out, all, 0s);
            .screenshot {
                border:1px solid @gray;
                box-shadow: 1px 1px 5px fade(@pure-black, 50%);
            }
            &.slick-center {
                z-index:1;
                .scale(1.2);
                opacity:.99;
                .single-transition(.4s, ease-out, all, 0s);
                @media @medium {.scale(1.5);}
            }
        }
    }//end visualization slider styles

    #share-insights {
        .device-mockup {
            &.mac-thunderbolt {
                position:relative; z-index:0;
                width:120%;
                margin-bottom:40px; margin-right:40%;
            }
            &.ipad {
                position:absolute; z-index:1;
                width:70%;
                right:10%; bottom:40px;
            }
            &.iphone {
                position:absolute; z-index:2;
                width:20%;
                right:5%; bottom:20px;
            }
            @media @medium {
                &.mac-thunderbolt {width:70%;}
                &.ipad {width:45%; right:25%;}
                &.iphone {width:12%; right:20%;}
            }
            @media @large {
                &.mac-thunderbolt {width:210%; margin-right:10%; margin-bottom:60px;}
                &.ipad {width:120%; right:0%;}
                &.iphone {width:30%; right:-10%;}
            }
        }
    }
}//end analytics overview page

.BigData {
    #hero {
        //old html for capabilities, delete later
        img {
            @media @large {
                max-width: none;
                margin-left: -110%;
            }
            @media @xlarge {
                margin-left: -70%;
            }
        }

        .device-mockup {
            @media @large {width:215%; margin-right:-15%;}
            img {max-width:100%!important; margin-left:0!important;}
        }
    }
    #data-discovery img {
        width:175%; max-width:none;
        margin-right:0; margin-left:-37.5%;
    }
    @media @medium {
        #hadoop-diagram-apps .grid-item {
            position: relative;

            &:after {
                content: '';
                display: block;
                .size(@thin, @column-gutter);
                .position(absolute, @left:50%, @bottom:@column-gutter * -1);
                background-color: @gray;
            }
        }
        #hadoop-diagram-platform {
            .padding-y(@column-gutter / 2);

            .flex {
                position: relative;

                &:after {
                    content: '';
                    display: block;
                    .size(@thin, @column-gutter);
                    .position(absolute, @left:50%, @bottom:@column-gutter * -1);
                    background-color: @gray;
                }
            }
        }
        #hadoop-diagram-sql {
            padding-top: @column-gutter / 2;

            .grid-item {
                position: relative;

                &:before {
                    content: '';
                    display: block;
                    .size(@thin, @column-gutter);
                    .position(absolute, @column-gutter / -2, 50%);
                    background-color: @gray;
                }
                &:after {
                    content: '';
                    display: block;
                    height: @thin;
                    .position(absolute, @column-gutter / -2, 0, 0);
                    background-color: @gray;
                }
                &:first-child:after { left: 50%; }
                &:last-child:after { right: 50%; }
            }
        }
    }
}//end big data

.Collaboration {
    #communication-and-collaboration {
        //put more space between the cols
        @media @large {
            > .flex-row > div {
                &:first-child {padding-right:40px;}
                &:last-child {padding-left:40px;}
            }
        }
    }
    #notifications {
        .device-mockup {
            &.ipad:first-child {
                position:relative; z-index:1;
                width:80%;
                margin-bottom:15%;
            }
            &.ipad:last-child {
                position:absolute; z-index:2;
                width:80%;
                right:15px; bottom:15px;
            }
        }
    }
}//end collaboration

.DataConnectivity {
    #hero {
        padding-bottom: 20px;
        @media @medium { padding-bottom: 30px; }
        @media @large { padding-bottom: 40px; }

        .device-mockup {
            width:200%; float:right; margin-right:-10%;
            @media @xlarge {width:150%;}
        }
    }
    #connector-list .card .card-content:first-child {border-bottom: 1px solid #ddd;}
}//end data connectivity

.DataDiscovery {
    #hero {
		img {
	        @media @large {
	            max-width: none;
	            margin-left: -120%;
	        }
	        @media @xlarge {
	            margin-left: -100%;
	        }
			&.offpage-image {
				position:relative; z-index:-1;
				width:auto; max-width:100%;
				@media @large {max-width:none;}
			}
	    }
	}
    #dashboard-design {
		img {
	        @media @medium {
	            max-width: none;
	            margin-left: -110%;
	        }
	        @media @large {
	            margin-left: -50%;
	        }
	        @media @xlarge {
	            margin-left: -25%;
	        }
		}
		.offpage-image {
			img {margin-left:0; max-width:100%;}
		}
    }
    #dashboard-sharing {
		img {
			@media @medium {
				max-width: 600px;
				margin-left: -75%;
			}
			@media @large {
				max-width: 900px;
				margin-left: -90%;
			}
			@media @xlarge {
				max-width: 1200px;
				margin-left: -110%;
			}
		}

	    .device-mockup {
	        &.macbook-pro {position:relative; z-index:0; margin-right:15%;}
	        &.ipad {
	            position:absolute; z-index:1;
	            width:80%;
	            right:15%; bottom:-10px;
	        }
	        &.iphone {
	            position:absolute; z-index:2;
	            width:20%;
	            right:5%; bottom:-20px;
	        }
			img {max-width:100%; margin-left:0;}
	    }
	}
}//end data discovery

.Distribution {
    #hero img {
        @media @large {
            max-width: none;
            margin-left: -130%;
        }
        @media @xlarge {
            margin-left: -90%;
        }
    }
}//end distribution

.DossiersAndDashboards {
    #hero {
        .hero-screenshots {
            position:relative;
            .screenshot- {
                &center {
                    position:relative; z-index:1;
                    max-width:80%;
                    @media @medium {max-width:700px;}
                    margin-bottom:0;
                }
                &left, &right {
                    position:absolute; z-index:0;
                    max-height:80%;
                    top:50%;
                    .translateY(-50%); margin-bottom:0;
                }
                &left {right:50%;}
                &right {left:50%;}
            }
        }
    }

    #app-library {
        .device-mockup {
            &.macbook-air {position:relative; z-index:0;}
            &.ipad {
                position:absolute; z-index:1;
                width:50%;
                left:0; bottom:0;
            }
        }
    }
}//end dossiers

.EnterpriseReporting {
    #hero img {
        max-width: 150%;
        margin-left: -30%;
        @media @xlarge { margin-left: -15%; }
    }
}//end reporting

.GeospatialIntelligence  {
    #hero {
        .stacked-mockups {margin-bottom:40px;}
        .device-mockup {
            &.macbook-pro {
                position:relative; z-index:0;
                margin-left:10%;
            }
            &.ipad {
                position:absolute; z-index:1;
                width:80%;
                left:10%; bottom:-5px;
            }
            &.iphone {
                position:absolute; z-index:2;
                width:20%;
                left:5%; bottom:-10px;
            }
        }
    }

    #app-library {
        .device-mockup {
            &.macbook-air {position:relative; z-index:0;}
            &.ipad {
                position:absolute; z-index:1;
                width:50%;
                left:0; bottom:0;
            }
        }
    }
}//end mapping
//END ANALYTICS PAGES





//MOBILE PAGES
.Mobile {
    #introduction {
        .device-mockup {
            &.ipad {
                position:relative; z-index:0;
                width:130%;
                margin-right:20%;
                margin-bottom:20px;
            }
            &.iphone {
                position:absolute; z-index:1;
                width:30%;
                right:10%; bottom:20px;
            }
            @media @medium {
                &.ipad {width:150%;}
                &.iphone {width:35%;}
            }
        }
    }

    #mobile-apps-deploy {
        .device-mockup {
            &.macbook-pro {
                position:relative; z-index:0;
                width:120%;
                margin-left:-10%;
                float:none;
            }
            &.ipad {
                position:relative; z-index:1;
                width:80%;
                margin:-20% auto 0 auto;
            }
            @media @medium {
                &.macbook-pro {
                    width:90%;
                    margin-right:45%;
                    float:right;
                }
                &.ipad {
                    position:absolute; z-index:1;
                    width:45%;
                    right:20px; top:50%; margin-top:-20%;
                }
            }
            @media @large {
                &.macbook-pro {width:75%}
                &.ipad {margin-top:-17%}
            }
            @media @xlarge {
                &.macbook-pro {width:75%}
                &.ipad {margin-top:-17%}
            }
        }
    }

    #transactions {
        .device-mockup {
            &.ipad {
                position:relative; z-index:0;
                margin-left:10%;
                margin-bottom:20px;
                width:140%;
                @media @large {width:120%;}
            }
            &.iphone {
                position:absolute; z-index:1;
                width:20%;
                left:20px; bottom:20px;
                width:30%;
                @media @large {width:25%;}
            }
        }
    }

    #mobile-external-apps-slider {
        .slick-slide {
            position:relative;
            > span {
                position:absolute;
                left:0; bottom:20px;
                width:100%;
                padding:50px 15px 15px 15px;
                background: fade(@pure-black, 60%);
                background: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 90%, rgba(0,0,0,0.6) 100%);
                background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.6) 90%,rgba(0,0,0,0.6) 100%);
                background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.6) 90%,rgba(0,0,0,0.6) 100%);
                filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00000000', endColorstr='#99000000',GradientType=0 );

                font-family:@myriad-pro;
                .uppercase;
                font-weight:600;
                font-size:16px; line-height:16px;
                text-align:center;
                color:@white;
            }
        }
    }

    #emm {
        .device-col {
            overflow:hidden; margin-bottom:30px;
            @media @large {overflow:visible; margin-bottom:none;}
        }
        .device-mockup.offpage-image {
            margin-right:5%;
            width:150%; margin-bottom:-40%;
            @media @medium {width:115%;}
            @media @large {width:150%; margin-bottom:0;}
        }
        .app-lock {
            position:absolute;
            width:4%;
            right:26%; top:6%;
            opacity:0;
            .animation(app-lock-animation 7s 2s ease-out infinite);
        }
    }
}
.Emm {
    #hero .ipad {
        z-index:0;
        width:150%;
        float:right;
        margin-right:10%;
        @media @large {width:130%;}

        .app-lock {
            position:absolute;
            width:4%;
            right:26%; top:6%;
            opacity:0;
            .animation(app-lock-animation 7s 2s ease-out infinite);
        }
    }
    #emm-vendors .logo {
        max-height: ~"calc(100% - 20px)";
        max-width: ~"calc(100% - 20px)";
    }
}//end emm
.Transactions {
    #hero {
        .img-col {
            position:relative;
            .ipad {
                z-index:0;
                width:150%;
                float:right;
                margin-right:15%; margin-bottom:20px;
                @media @large {
                    margin-bottom:30px;
                }
            }
            .iphone {
                position:absolute;
                width:35%;
                right:@base-spacing; bottom:@base-spacing;
                z-index:1;
            }
        }
    }// end hero

    #take-action {
        .image-row {
            position:relative;
            .iphone {
                position:absolute; z-index:2;
                width:15%;
                bottom:0; right:0;
            }
            .ipad {
                width:60%;
                &.left {
                    position:relative; z-index:0;
                    margin-left:0;
                    margin-bottom:10%;
                }
                &.right {
                    position:absolute; z-index:1;
                    bottom:5%; left:35%;
                }
            }
        }
    }
}//end transactions
.keyframes(app-lock-animation;{
    0% {opacity:0; .transform(scale(2) translateY(-10px));}
    5% {opacity:1; .transform(scale(1) translateY(0));}
    90% {opacity:1; .transform(scale(1) translateY(0));}
    95% {opacity:0; .transform(translateY(10px));}
    100% {opacity:0; .transform(translateY(10px));}
});





@diagram-line-height: 20px;
//PLATFORM PAGE
.EnterprisePlatform {
    #introduction {
        .device-mockup {
            width:215%;
        }
    }
    #federated-data-diagram {
        font-family:@myriad-pro;
        font-weight:400;
        color:@dark-gray;

        .content-label {
            font-size:16px; line-height:18px;
            .uppercase;
            font-weight:600;
        }

        .feature-group-row {
            @media @medium {
                .display(flex);
                .align-items(center);
            }
            > .content-label {
                display:block;
                background-color:@red;
                color:@white;
                padding:15px;
                @media @medium {width:20%; min-width:140px;}
            }
            .feature-group {
                border-left:5px solid @red;
                box-shadow:1px 1px 5px fade(@pure-black, 30%);

                font-size:14px; line-height:14px;
                text-align:left;

                > .grid-item {
                    border:1px solid @light-gray;
                }
                .icon {
                    color:@red;
                    margin-right:10px;
                }
            }//feature group
        }//feature group row

        .results-row {
            padding-top:20px;

            > div {
                position:relative;
                margin-bottom:40px;

                &:after {
                    content:'';
                    position:absolute;
                    top:100%; left:50%;
                    .translateX(-50%);
                    width:5px; height:20px;
                    background-color:@red;
                }

                &:last-child:after {background-color:@blue;}

                @media @medium {
                    &:after {width:2px;}
                    &:last-child:after {height:40px;}
                }
            }
        }//end results row

        .sources-row {
            position:relative;

            @media @small-only {
                .in-memory-cubes, .other-sources {border:1px solid @iron;}
            }
            //these are the horizontal lines
            &:before, &:after {
                content:'';
                position:absolute;
                bottom:~"calc(100% + 20px)";
                width:~"calc(50% - 10px)"; height:5px;
            }
            //red one
            &:before {left:0; background-color:@red;}
            //blue one
            &:after {left:50%; background-color:@blue;}

            @media @medium {
                //these are the horizontal lines
                &:before, &:after {height:2px;}
                //red one
                &:before {left:50%; width:66.9%; .translateX(-65.3%);}
                //blue one
                &:after {left:50%; width:66%; .translateX(-33.8%); bottom:100%;}
            }

            .grid-item {
                margin-top:@diagram-line-height;
                &.selected {
                    position:relative;

                    &:after {
                        content:'';
                        position:absolute;
                        bottom:100%; left:50%;
                        .translateX(-50%);
                        width:5px; height:@diagram-line-height;
                        background-color:@red;
                    }
                    &.blue:after {background-color:@blue;}

                    &.both {
                        &:before, &:after {
                            content:'';
                            position:absolute;
                            bottom:100%; left:50%;
                            .translateX(-50%);
                            width:5px; height:@diagram-line-height;
                        }
                        //red one
                        &:before {
                            left:~"calc(50% - 10px)";
                            background-color:@red;
                        }
                        //blue one
                        &:after {
                            left:~"calc(50% + 10px)";
                            background-color:@blue;
                        }
                    }

                    @media @medium {
                        &:after {width:2px; height:@diagram-line-height + 55px;}
                        &.blue:after {background-color:@blue; height:@diagram-line-height + 35px;}

                        &.both {
                            &:before, &:after {width:2px; height:@diagram-line-height + 35px;}
                            //red one
                            &:before {height:@diagram-line-height + 55px;}
                        }
                    }
                }// end .selected state
            }// end grid-item, top lines for all the selected items
            .database {
                position:relative;
                min-height:150px;

                .grid-item {
                    margin:@diagram-line-height 0;
                }

                .cylinder-background {
                    position:absolute; z-index:-1;
                    height:90%;
                    top:-5%; left:50%;
                    .translateX(-50%);
                }
            }//end database
        }//end sources row
    }//end diagram

    //for child page gridder
    .gridder {
        .card {
            display:block; position:relative;
            overflow:hidden;
            background-color:@white;
            border-bottom:0px solid @white;
            padding:10px 15px 30px 15px;
            cursor:pointer;
            height:159px;
            box-shadow:2px 2px 1px 0 rgba(0,0,0,0.1);

            .title {
                font-size:22px; line-height:24px;
                font-weight:400;
                margin:0; padding:0;
                transition:color 0.2s ease-out 0.1s;
            }
            .sub {
                overflow:hidden;
                color:@dark-gray;
                height:74px;
                margin:0; padding:10px 0 0 0;
                transition:color 0.2s ease-out 0.1s;
            }
            &:before {
                display:block; position:absolute; z-index:-2;
                content:"";
                width:150%; height:200%;
                background-color:@black;
                bottom:0; right:0;
                transform-origin:center center;
                opacity:0;
                .transform(translate(80%, 80%) rotate(-45deg));
                transition:transform 0.25s ease-out 0.1s, opacity 0.25s ease-out 0.1s;
            }
            .sub{
                &:before {transition:opacity 0.2s ease-out 0.2s;}
                &:after {opacity:0;transition:opacity 0.2s ease-out 0s;}
            }

            &:hover {
                .title, .sub {
                  color:@white;
                }
                &:before {
                  opacity:1;
                  .transform(translate(20%, 20%) rotate(-45deg));
                }
                .sub {
                    &:before {
                      opacity:0;
                      transition:opacity 0.2s ease-out 0s;
                    }
                    &:after {
                      opacity:1;
                      transition:opacity 0.2s ease-out 0.2s;
                    }
                }
            }
        }
        &.red .card:before {background:@red;}
        &.orange .card:before {background:@orange;}
        &.blue .card:before {background:@blue;}
        &.navy-blue .card:before {background:@navy-blue;}
    }

    //for platform child page diagrams
    .bracket {display:block; position:relative; height:40px; margin:0 6%;}
    .bracket > span {
      display:block; position:absolute;
      background-color:#ffffff;
      top:20px; left:0;
      width:100%; height:1px;
    }
    .bracket:before, .bracket:after, .bracket span:before {
      display:block; position:absolute;
      content:"";
      width:1px; height:20px;
      background-color:#ffffff;
    }
    .bracket:before {top:20px; left:0;}
    .bracket:after {top:20px; right:0;}
    .bracket span:before {bottom:0; left:50%;}

    .bracket.reverse:before {bottom:20px; top:auto;}
    .bracket.reverse:after {bottom:20px; top:auto;}
    .bracket.reverse span:before {top:0; bottom:auto;}

    .bracket.no-bottom {height:20px;}
    .bracket.no-bottom:before, .bracket.no-bottom:after {display:none;}

    .outlined-dark-block {
      display:block; position:relative;
      padding:10px; background-color:rgba(0,0,0,0.7);
      border:1px solid #ffffff;
    }
    .top-line {position:relative; margin-top:20px;}
    .top-line:before {
      display:block; position:absolute;
      content:"";
      width:1px; height:20px;
      bottom:100%; left:50%;
      background-color:#ffffff;
    }
    .bottom-line {position:relative; margin-bottom:20px;}
    .bottom-line:after {
      display:block; position:absolute;
      content:"";
      width:1px; height:20px;
      top:100%; left:50%;
      background-color:#ffffff;
    }
    .left-line {position:relative; margin-left:20px;}
    .left-line:before {
      display:block; position:absolute;
      content:"";
      height:1px; width:20px;
      left:100%; top:50%;
      background-color:#ffffff;
    }
    .right-line {position:relative; margin-right:20px;}
    .right-line:after {
      display:block; position:absolute;
      content:"";
      height:1px; width:20px;
      right:100%; top:50%;
      background-color:#ffffff;
    }
}





//EMBEDDED PAGE
.EmbeddedAnalytics {
    #hero {
        .angle-wrapper .angle.right {background-position:left center;}
    }
    #introduction {
        .device-mockup {
            width:200%;
        }
    }
    #customized-apps {
        .custom-mobile-sdk-graphic {
            margin-top:64px;
            > div {.display(flex);}
            .graphic-block {
                .display(flex);
                .flex-direction(column);
                .flex-wrap(wrap);
                .align-items(center);
                .justify-content(center);
                width:100%;

                position:relative;
                padding:30px 0px;
                .graphic-label {
                    width:100%;
                    font-family:@myriad-pro;
                    font-size:14px; line-height:14px;
                    font-weight:600;
                    text-align:center;
                }
            }
            .mstr-icon, .customapp-icon {
                display:block; margin:0 auto;
                width:70px;
                @media @medium {max-width:80%; width:100px;}
            }
            .icon {
                display:block;
                position:absolute;
                top:100%; left:50%;
                margin-left:-6px;
                .transform(rotate(0deg) translate(-15px, -50%));
            }
            .device-mockup {
                float:right;
                width:100%;
                @media @medium {width:115%;}
            }
        }
    }
}




//DIGITAL ID TELEMETRY PAGE
.IdentityAndTelemetry {
    #hero {
        .angle-wrapper .angle.right {background-position:left center;}
    }
    #introduction {
        .device-mockup {
            &.ipad {
                position:relative; z-index:0;
                width:130%;
                margin-right:20%;
                margin-bottom:20px;
            }
            &.iphone {
                position:absolute; z-index:1;
                width:30%;
                right:10%; bottom:20px;
            }
            @media @medium {
                &.ipad {width:150%;}
                &.iphone {width:35%;}
            }
        }
    }
    #physical-logical-access {
        .device-mockup {
            &.macbook-pro {
                position:relative; z-index:0;
                width:130%;
                margin-left:10%;
                margin-bottom:20px;
            }
            &.iphone {
                position:absolute; z-index:1;
                width:25%;
                left:10%; bottom:20px;
            }
            @media @medium {
                &.macbook-pro {width:150%;}
                &.iphone {width:30%;}
            }
        }
    }
}//end id and telemetry overview
.DigitalCredentials {
    #logical-access img {
        max-width: 175%;
        margin-left: -75%;
    }
    #physical-access img {
        max-width: 150%;
    }
}//end digital credentials
.SecureGateways {
    #hero {
        .img-col {
            position:relative;
            .macbook-pro {
                z-index:0;
                margin-left:7%; margin-bottom:7%;
            }
            .ipad {
                position:absolute;z-index:1;
                width:55%;
                left:7%; bottom:7%;
            }
            .iphone {
                position:absolute;z-index:2;
                width:15%;
                left:20px; bottom:20px;
            }
        }
    }// end hero

    #physical-infrastructure {
        .img-col {
            position:relative;
            .ipad {
                z-index:0;
                width:150%;
                float:left;
                margin-left:20%; margin-bottom:30px;
                @media @large {
                    margin-bottom:40px;
                }
            }
            .iphone {
                position:absolute; z-index:1;
                width:35%;
                left:10%; bottom:15px;
            }
        }
    }

    #logical-access {
        .img-col {
            position:relative;
            .macbook-air {
                z-index:0;
                width:200%;
                float:right;
                margin-right:10%; margin-bottom:30px;
                @media @large {
                    margin-bottom:40px;
                }
            }
            .iphone {
                position:absolute; z-index:1;
                width:35%;
                right:10%; bottom:15px;
            }
        }
    }
}//end secure gateways




//CLOUD PAGE
.Cloud {
    #hero {
        .angle-wrapper .angle.right {background-position:left center;}
    }

    #introduction {
        .device-mockup {
            width:200%;
        }
    }

    #cloud-capabilities {
        .device-mockup {
            &.ipad {
                position:relative; z-index:0;
                margin-left:27.33333333%;
            }
            &.iphone {
                position:absolute; z-index:1;
                width:20%;
                left:0; bottom:0;
            }
        }
    }

    #cloud-service-options.white-popup {
        max-width:1000px;
        @media @medium {padding:0;}
        > h3 {margin:0; padding:20px;}
    }

    #services-and-tools-diagram {
        .icon-col {
            position:relative;
            @media @medium {padding-bottom:35px; margin-bottom:20px;}

            .grid-item {.display(inline-flex);}
            .background-light-gray, .background-white {
                .flex(0, 1, auto);
                .display(flex);
                .flex-direction(row);
                .flex-wrap(wrap);
                .align-items(flex-start);
                width: 100%;
                position: relative;
                > p {width:100%;}
            }
            .label {
                @media @small-only {
                    .display(flex);
                    .flex(0, 0, 100%);
                }
                display:block; position:relative;
                padding:25px 25px 30px 25px; margin:0;
                font-family:@myriad-pro;
                font-size:14px; line-height:1em;
                font-weight:600;
                .uppercase;
                color:@gray;
                text-align:center;

                @media @medium {
                    position:absolute;
                    bottom:0; left:0;
                    width:50%;
                    padding:25px 0 0 0;
                    &.full {
                        width:100%;
                        .line {width:~"calc(50% - 40px)";}
                    }
                    &.two-third {width:66.66%}
                    &.one-third {width:33.33%}
                    &:last-of-type {left:auto; right:0;}
                }
                .line {
                    position:absolute;
                    top:15px; left:50%;
                    .translateX(-50%);
                    height:1px; width:~"calc(100% - 40px)";
                    background-color:@gray;
                    &:before, &:after {
                        position:absolute;
                        content:'';
                        bottom:0; left:0;
                        height:15px; width:1px;
                        background-color:@gray;
                    }
                    &:after {left:auto; right:0;}
                }
            }
        }
    }
}




// WHY MICROSTRATEGY PAGE
#why-microstrategy {

    // TIMELINE COMPONENT STYLES
    @media @medium {.hero-col {opacity:0px; .animation(fade-in 0.5s ease-out 0.5s normal forwards);}}
    //TIMELINE STYLES
    @timeline-mobile-height: 450px;
    @timeline-mobile-width: 300px;

    @timeline-desktop-height: 350px;
    @timeline-desktop-width: 400px;
    .timeline-wrapper {
        position:relative;
        @media @medium {
            opacity:0; .animation(fade-in 1s ease-out 2s normal forwards);
        }
    }
    .frame {
        position:relative; z-index:2; overflow:hidden;
        width:100%; height:@timeline-mobile-height;
        padding:0;
        cursor:pointer;
        @media @medium {height:@timeline-desktop-height;}

        //this is the vertical center line through the whole timeline
        &:before {
            position:absolute; z-index:1;
            content:'';
            height:8px; width:100%;
            top:50%; left:0; margin-top:-4px;
            background-color:@light-gray;
        }

        .timeline-list {
            position:relative; z-index:2;
            margin:0; padding:0;
            height:100%;
            list-style:none;
            .timeline-item {
                position:relative; z-index:2;
                float:left;
                margin:0 20px 0 -@timeline-mobile-width / 2;
                padding:0 0 20px 30px;
                width:@timeline-mobile-width;
                height:50%;
                text-align:left;
                color:@white;

                //this value covers the horizontal margin and padding to center the timeline item
                .translateX((@timeline-mobile-width / 2) - 60px);

                @media @medium {
                    margin:0 80px 0 -@timeline-desktop-width / 2;
                    padding:0 0 20px 30px;
                    width:@timeline-desktop-width;
                    .translateX((@timeline-mobile-width / 2) - 110px);
                }
                //for the items below the middle line
                &:nth-child(even) {
                    margin-top:@timeline-mobile-height / 2;
                    padding:20px 0 0 30px;
                    @media @medium {margin-top:@timeline-desktop-height / 2;}
                    //.text {.justify-content(flex-start);}
                    .flag {
                        bottom:50%; top:auto;
                        &:before, &:after {top:auto;}
                    }
                }

                .InternetExplorer & .text {
                    max-width:185px;
                    @media @medium {max-width:305px;}
                }
                &:before {
                    display:block; position:absolute; z-index:2;
                    content:'';
                    top:50%; left:0; margin-top:-15px;
                    height:30px; width:15px;
                    background-color:@white;
                }
                .text {
                    .display(flex);
                    .flex-direction(column);
                    .justify-content(center);
                    .flex(0,1,auto);

                    opacity:0.7;
                    h3 {margin-bottom:5px;}
                    .single-transition(opacity, 0.2s, ease-out, 0s);
                }
                &.active .text {opacity:1;}
                .flag {
                    display:block; position:absolute; z-index:4;
                    width:3px; height:50%;
                    background-color:@white;
                    left:0; top:50%;
                    &:before {
                        display:block; position:absolute;
                        content:'';
                        top:100%; left:0;
                        background-color:@white;
                        z-index: 3;
                        margin-left:-11px; margin-top:-12.5px;
                        height:25px; width:25px;
                        border-radius:50%;
                        border:2px solid @light-gray;
                    }
                }

                &.red {
                    &:before,
                    .flag,
                    .flag:before {background-color:@red;}
                }
                &.orange {
                    &:before,
                    .flag,
                    .flag:before {background-color:@orange;}
                }
                &.green {
                    &:before,
                    .flag,
                    .flag:before {background-color:@green;}
                }
                &.blue {
                    &:before,
                    .flag,
                    .flag:before {background-color:@blue;}
                }
                &.navy-blue {
                    &:before,
                    .flag,
                    .flag:before {background-color:@navy-blue;}
                }
            }//end timeline-item
        }//end timeline-list
    }//end frame

    //timeline scrollbar
    .scrollbar {
        position:relative; z-index:2;
        margin:20px auto;
        height:30px; width:~"calc(100% - 60px)";
        line-height: 0;
        &:before {
            display:block; position:absolute; z-index:-2;
            content:'';
            left:0; top:50%; margin-top:-1px;
            height:2px; width:100%;
            border-bottom:3px solid @light-gray;
        }
        .handle {
            width:100px; height:100%;
            margin-top:-15px;
            background-color:fade(@red, percentage(@semi-opaque));
            cursor:pointer;
            .mousearea {
                position:absolute; z-index:3;
                top:0; left:0;
                width:100%; height:100%;
                &:before {
                    display:block; position:absolute;
                    content:'';
                    bottom:100%; left:50%; margin-left:-14px;
                    width:0; height:0;
                    border-left:14px solid transparent;
                    border-right:14px solid transparent;

                    border-bottom:14px solid fade(@red, percentage(@semi-opaque));
                }
            }
        }
    }
    //timeline navigation
    .timeline-nav {
        position:relative;
        padding-left:30px;
        padding-right:30px;
        .dot-wrapper {
          position:absolute; z-index:-1;
          top:0; left:0;
          width:100%; height:30px;
        }
        .dot {
            position:relative;
            &:before {
              display:block; position:absolute;
              content:'';
              top:50%; left:50%; margin-left:-5px; margin-top:-5px;
              height:10px; width:10px;
              border-radius:50%;
              background-color:#bbbbbb;
            }
        }
    }
    //timeline controls
    .controls {
        display:block; position:absolute; z-index:1;
        top:20px; left:0;
        width:100%; height:30px;
        .btn {
            display:block; position:absolute;
            top:50%; margin-top:-15px;
            width:30px; height:30px;
            background-color:transparent;
            outline:0;
            opacity:1;
            color:@light-gray;
            .single-transition(opacity, 0.2s, ease-out, 0s);
            &.disabled {opacity:0.2;}
            &.prev {left:0px; .rotation(180deg);}
            &.next {right:0px;}
        }
    }



    //OFF-PAGE IMAGES FOR KEY BENEFITS SECTIONS

    @media @small-only {#low-cost, #ease-of-use, #mobile {border-bottom:1px solid @gainsboro;}}

    #low-cost {
        .offpage-image {
            width:auto; max-width:500px; .translateX(25%);
            @media @medium {max-width:none; .translateX(35%);}
            @media @xlarge {.translateX(30%);}
        }
    }

    #ease-of-use {
        .report-link {
            position:relative; display:block; z-index:0;
            @media @medium {
                min-height:300px;
                .report-image {
                    position:absolute;
                    max-width:100%;
                    top:~"calc(50% + 40px)"; left:50%;
                    .translate(-50%, -50%);
                    opacity:0.9;
                    .single-transition;
                }
                &:hover .report-image {
                    .translate(-50%, ~"calc(-50% - 10px)"); opacity:1;
                }
            }
        }//end report-link
        .flex-row > div:nth-child(n+2) {position:relative; z-index:1;}
    }

    #mobile {
        .offpage-image {
            max-width:500px;
            @media @medium {max-width:700px; margin-left:50px;}
            @media @large {max-width:none; width:auto;}
        }
    }

    .grid-lines {
        @media @medium {
            .grid-item {
                border:1px solid @gray;
                padding:30px;
                &:nth-child(1) {border-width:0 1px 1px 0;}
                &:nth-child(2) {border-width:0 0 1px 0;}
                &:nth-child(3) {border-width:0 1px 0 0;}
                &:nth-child(4) {border-width:0;}
            }
        }
    }

    #customers {
        .ratio .logo {
            @media @small-only {max-height:100%; max-width:100%;}
            @media @medium-only {max-height: calc(100% - 20px); max-width: calc(100% - 20px);}
        }
    }

}//end why-microstrategy page




// WHAT'S NEW PAGE

.WhatsNew {

    section.view {
        p {
            font-family: @myriad-pro;
            font-size: 18px;
            line-height: @line-height;
            font-weight: @light;
            //letter-spacing: .01em;

            a {color:@white; text-decoration: underline;}
        }
    }

    .older-updates {
        > section {border-bottom:1px solid @iron; &:first-child{border-bottom:0;}}
    }

    //10.11 updates
    #geospatial {
        .stacked-mockups {margin-bottom:40px;}
        .device-mockup {
            &.macbook-pro {
                position:relative; z-index:0;
                margin-left:10%;
            }
            &.ipad {
                position:absolute; z-index:1;
                width:80%;
                left:10%; bottom:-5px;
            }
            &.iphone {
                position:absolute; z-index:2;
                width:20%;
                left:5%; bottom:-10px;
            }
        }
    }

    #native-mobile-app {
        .device-mockup {
            margin:0 auto -30% auto;
            max-width:60%;
            @media @medium-only {max-width:75%;}
        }
    }

    #face-id {
        .device-mockup {
            max-width:60%;
        }
    }

    #prompts-support {
        .device-mockup {
            &.macbook-pro {
                position:relative; z-index:0;
                margin-right:10%;
            }
            &.ipad {
                position:absolute; z-index:1;
                width:80%;
                right:10%; bottom:-5px;
            }
            &.iphone-x {
                position:absolute; z-index:2;
                width:20%;
                right:5%; bottom:-10px;
            }
        }
    }


    //for 10.10 version, delete when all translated
    #hero .scroll-link {
        position:relative; overflow:hidden;
        padding-top:20px; padding-bottom:20px;
        font-size:14px; line-height:1.2em;
        color:@white;
        .uppercase;
        font-weight:400;
        border:1px solid fade(@white, 10%);
        border-width:0 1px 1px 0;
        .icon {font-size:25px;}
        &:before {
            content:'';
            display:block; position:absolute;
            top:0; left:0;
            width:3px; height:100%;
            .translateX(-3px);
            .single-transition;
        }
        &.red:before {background-color:@red;}
        &.orange:before {background-color:@orange;}
        &.green:before {background-color:@green;}
        &.blue:before {background-color:@blue;}
        &.navy-blue:before {background-color:@navy-blue;}
        &:hover {
            padding-left:20px; padding-right:10px;
            background-color:fade(@pure-black, 40%);
            &:before {.translateX(0);}
            &.red .icon {color:@red;}
            &.orange .icon {color:@orange;}
            &.green .icon {color:@green;}
            &.blue .icon {color:@blue;}
            &.navy-blue .icon {color:@navy-blue;}
        }
    }

    #updates-10-9 {
        > section {
            border-bottom:1px solid @iron;
            &:first-child{border-bottom:0;}
        }
    }

    #collaboration {
        .stacked-mockups {margin-bottom:20px;}
        .device-mockup {
            &.macbook-pro {position:relative; z-index:0; margin-left:10%;}
            &.ipad {
                position:absolute; z-index:1;
                width:50%;
                left:5%; bottom:-10px;
            }
        }
    }

    #responsive-design {
        .stacked-mockups {margin-bottom:40px;}
        .device-mockup {
            &.macbook-pro {position:relative; z-index:0; margin-left:10%;}
            &.ipad {
                position:absolute; z-index:1;
                width:50%;
                left:10%; bottom:-5px;
            }
            &.iphone {
                position:absolute; z-index:2;
                width:10%;
                left:5%; bottom:-10px;
            }
        }
    }

    #data-asset-improvements {
        .compact {margin-left:-7.5px;}
        .ratio {.rounded(3px);}
    }

}//end whats-new page




// PRODUCTS AND PACKAGING PAGE
#product-packaging {
    // explore nav
    #explore {

        .ratio {
            max-height: 300px;
        }
        .section-name {
            font-size: 18px;
            @media @medium { font-size: 16px; }
            @media @large { font-size: 21px; }
            line-height: @line-height;
            font-family: @myriad-pro;
            .uppercase;
        }
    }

    // "back to top" button
    #to-top {
        position: fixed;
        bottom: @column-gutter / 2; right: @column-gutter / 2;
        @media @medium { bottom: @column-gutter; right: @column-gutter; }
        @media @large { bottom: @column-gutter + @column-gutter / 2; right: @column-gutter + @column-gutter / 2; }
        z-index: 1;
        .single-transition(.4s);

        &.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .label {
            .display(flex);
            .align-items(center);
            height: extract(@icon-sizes, 3) * 2;
            .position(absolute, @right: (extract(@icon-sizes, 3) * 2));
            opacity: 0;
            .single-transition;
            text-align: center;
            background-color: darken(@dark-gray, @darken);
            font-size: 12px;
            font-family: @myriad-pro;
            color: @white;
            .uppercase;
        }

        &:hover, &:active {
            .label {
                opacity: 1;
                padding: 0 (extract(@icon-sizes, 3) / 2);
            }
        }
    }
}







//KEYFRAMES FOR EVERYTHING
@scroll-bounce-bezier: cubic-bezier(.21,-0.16,.8,1.22);
.keyframes(scroll-page;{
    0%{.translateY(0);}
    10%{.translateY(0);}
    25%{.translateY(-53%);}
    90%{.translateY(-53%);}
    100%{.translateY(0);}
});

//ANIMATION LIBRARY
@media @medium {
    .passed-view .delay02 {.animation-delay(0.2s~"!important");}
    .passed-view .delay04 {.animation-delay(0.4s~"!important");}
    .passed-view .delay06 {.animation-delay(0.6s~"!important");}
    .passed-view .delay08 {.animation-delay(0.8s~"!important");}
    .passed-view .delay10 {.animation-delay(1.0s~"!important");}
    .passed-view .delay12 {.animation-delay(1.2s~"!important");}
    .passed-view .delay14 {.animation-delay(1.4s~"!important");}
    .passed-view .delay16 {.animation-delay(1.6s~"!important");}
    .passed-view .delay18 {.animation-delay(1.8s~"!important");}
    .passed-view .delay20 {.animation-delay(2.0s~"!important");}

    .slide-up, .slide-left, .slide-right, .slide-down, .fade-in {opacity:0;}
    .passed-view .slide-up {.animation(fade-slide-up 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-left {.animation(fade-slide-left 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-right {.animation(fade-slide-right 0.3s ease-out 0s normal forwards);}
    .passed-view .slide-down {.animation(fade-slide-down 0.3s ease-out 0s normal forwards);}
    .passed-view .fade-in {.animation(fade-in 0.3s ease-out 0s normal forwards);}
}

.keyframes(fade-in;{
    0%{opacity:0;}
    100%{opacity:1;}
});
.keyframes(fade-slide-up;{
    0%{opacity:0; .translateY(10%);}
    100%{opacity:1; .translateY(0);}
});
.keyframes(fade-slide-down;{
    0%{opacity:0; .translateY(-10%);}
    100%{opacity:1; .translateY(0);}
});
.keyframes(fade-slide-left;{
    0%{opacity:0; .translateX(10%);}
    100%{opacity:1; .translateX(0);}
});
.keyframes(fade-slide-right;{
    0%{opacity:0; .translateX(-10%);}
    100%{opacity:1; .translateX(0);}
});
