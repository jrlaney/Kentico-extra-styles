@import '../settings.less';

//component styles import
@import '../_new-components/hypercard-graphic.less';
@import '../_new-components/background-color-filters.less';

@custom-bez: cubic-bezier(.74,.01,.68,1.24);
// timing functions
@snappy-ease: cubic-bezier(.86,.01,.23,1);
@snappy-ease-out: cubic-bezier(.2,0,.03,1);
@snappy-ease-in: cubic-bezier(.98,0,.76,1);


//temporarily disable intro titles for intl pages
.ai-title, .ai-subtitle {display:none;}

//HERO BANNER STYLES
#hero {
	overflow:hidden;

	//animations after loading
	// .logo                     {opacity:0; .animation(fade-slide-down 0.5s ease-out 0.3s normal forwards);}
	// .title                    {opacity:0; .animation(fade-slide-down 0.5s ease-out 0.5s normal forwards);}
	// //.line                   {opacity:0; .animation(fade-slide-down 0.5s ease-out 0.8s normal forwards);}
	// .subtitle                 {opacity:0; .animation(fade-slide-down 0.5s ease-out 0.7s normal forwards);}
	// .content-col > .flex-row  {opacity:0; .animation(fade-slide-down 0.5s ease-out 0.9s normal forwards);}
	// .button                   {opacity:0; .animation(fade-slide-down 0.5s ease-out 1.1s normal forwards);}
	//.device-row             {opacity:0; .animation(fade-slide-up 0.7s @custom-bez 1.4s normal forwards);}

	> .flex-row {position:relative; z-index:2;}

	// &.static-version {
	// 	//animations on loading
	// 	.device-mockup {opacity:0; .animation(fade-slide-up 0.7s @custom-bez 1.4s normal forwards);}
	// 	.device-mockup.ipad {.animation-delay(1.6s~"!important");}
	// 	.device-mockup.iphone {.animation-delay(1.8s~"!important");}
    //
	// 	.angle.top    {will-change:opacity; opacity:0; .animation(fade-diagonal-down-left 0.3s ease-out 1.6s normal forwards);}
	// 	.angle.bottom {will-change:opacity; opacity:0; .animation(fade-diagonal-up-left 0.4s ease-out 1.8s normal forwards);}
    //
	// 	position:relative;
	// 	overflow:hidden;
	// 	.stacked-devices {
	// 		position:relative; height:250px;
	// 		margin-top:30px;
	// 		.device-mockup {position:absolute;}
	// 		.macbook-pro {
	// 			z-index:3;
	// 			width:110%;
	// 			top:0; left:50%; margin-left:-55%;
	// 		}
	// 		.ipad {
	// 			z-index:4;
	// 			width:60%;
	// 			top:40%; left:-15%;
	// 		}
	// 		.iphone {
	// 			z-index:5;
	// 			width:20%;
	// 			top:40%; right:0;
	// 		}
	// 		@media @medium {
	// 			.macbook-pro {width:90%; margin-left:-45%;}
	// 			.ipad {width:55%; top:55%; left:-7%;}
	// 			.iphone {width:20%; top:40%; right:2%;}
	// 		}
	// 		@media @xlarge {
	// 			.ipad {width:50%; left:-3%;}
	// 			.iphone {right:-3%;}
	// 		}
	// 	}//end stacked devices
	//     .angle-wrapper {
	//         display:block; position:absolute; z-index:1;
	//         height:100%; width:100%;
	//         top:0; left:0;
    //
	//         &.red .angle {fill:@red;}
	//         &.orange .angle {fill:@orange;}
	//         &.green .angle {fill:@green;}
	//         &.blue .angle {fill:@blue;}
	//         &.navy-blue .angle {fill:@navy-blue;}
	//     }
	//     .angle.top {right:0; top:0; height:auto; width:150%;}
	//     .angle.bottom {right:0; bottom:0; height:auto; width:150%;}
	//     .angle {
	//         display:block; position:absolute;
	//         fill-rule:evenodd;
	//         fill:@pure-black;
	//         mix-blend-mode:multiply;
	//     }
    //
	//     @media @medium {
	//         .angle.top {height:40%; width:auto;}
	//         .angle.bottom {height:105%; width:auto;}
	//     }
	// }

	&.hyperintelligence {
		//starting animations
		.title            {opacity:0; .animation(fade-slide-down 0.5s ease-out 1s normal forwards);}
		.subtitle         {opacity:0; .animation(fade-slide-down 0.5s ease-out 1.4s normal forwards);}
		.button           {opacity:0; .animation(fade-slide-down 0.5s ease-out 1.8s normal forwards);}
		.revolving-panels {opacity:0; .animation(revolving-panel-intro 3s ease-out 2s normal forwards);}

		//actual styles
		position:relative;
		padding-bottom:150px;
        z-index:1;
		&:after {
			content:'';
			position:absolute;
			bottom:0; left:0;
			width:100%;
			height:150px;
			background-color:@light-gray;
		}
        .content-col {
            padding-top:60px;
            @media @medium {padding-top:15px;}
        }
        .title > span {display:block; margin-bottom:5px; font-size:.6em; line-height:1;}

		.revolving-panels {
			position:relative;
			padding:0 0 70px 60px;
			width:150%;
			margin-bottom:-100px;
			//float:left;

			.screen {
				display:block; z-index:1;
				position:relative;
				box-shadow:5px 5px 20px fade(@pure-black, 50%);
				.screenshot {max-width:none; width:100%;}
				.cursor {
					position:absolute; z-index:2;
					width:15px;
					top:50%; left:50%;
				}
				.hypercard-img {
					opacity:0;
					position:absolute;
					width:25%;
				}
			}
			.rev-panel {
	            position:absolute; z-index:0;
	            margin:0;
	            top:0; right:0;
				width:~"calc(100% - 60px)";
	            .animation(card-stack-cycle 12s linear 0s normal infinite);
	            &:first-child{position:relative; width:100%;}
				.hypercard-img {.animation(hero-card-appear 12s linear 0s normal infinite);}

				&.website {
					.hypercard-img {
						top:22%; left:21%;
						.animation-delay(-6s~"!important");
					}
					.cursor {.animation(hero-cursor-website 12s linear -6s normal infinite);}
				}
				&.enterprise-systems {
					.animation-delay(-3s~"!important");
					.hypercard-img {
						top:22%; left:21%;
						.animation-delay(-9s~"!important");
					}
					.cursor {.animation(hero-cursor-enterprise-systems 12s linear -9s normal infinite);}
				}
				&.productivity-apps {
					.animation-delay(-6s~"!important");
					.hypercard-img {
						top:20%; left:9%;
						.animation-delay(-12s~"!important");
					}
					.cursor {.animation(hero-cursor-productivity-apps 12s linear -12s normal infinite);}
				}
				&.email {
					.animation-delay(-9s~"!important");
					.hypercard-img {
						top:22%; left:19%;
						.animation-delay(-15s~"!important");
					}
					.cursor {.animation(hero-cursor-email 12s linear -15s normal infinite);}
				}
			}
		}
	}
}



//2x2 BLOCK OF PRODUCT LINKS
#explore-product {
	.link-block {
		.display(flex);
		.flex-direction(column);
		.align-items(center);
		.justify-content(center);
		border:1px solid @white;
		> p {margin-left:auto; margin-right:auto; max-width:500px;}
		.line {width:70px; height:5px;}
		@media @medium {min-height:50vh; max-height:700px;}
	}
	@media @medium {
		.overlay-black {
			&:after {background-color:fade(@pure-black, 60%); .single-transition;}
			&:hover:after {background-color:fade(@pure-black, 50%);}
		}
	}
}




//GRID OF CUSTOMER LOGOS
#customers {
	.ratio {overflow:hidden;}
}



//keyframes for the entire page

.keyframes(fade-slide-up;{
    0%{opacity:0; .translateY(20%);}
    100%{opacity:1; .translateY(0);}
});
.keyframes(fade-slide-down;{
    0%{opacity:0; .translateY(-20%);}
    100%{opacity:1; .translateY(0);}
});
.keyframes(fade-diagonal-down-left;{
    0%{opacity:0; .translate(20%, -10%);}
    100%{opacity:1; .translate(0, 0);}
});
.keyframes(fade-diagonal-up-left;{
    0%{opacity:0; .translate(10%, 30%);}
    100%{opacity:1; .translate(0, 0);}
});
.keyframes(fade-in;{
    0%{opacity:0;}
    100%{opacity:1;}
});


//mstr 2019 hero animations
.keyframes(revolving-panel-intro;{
    0%{opacity:0; .transform(translateX(-10%) perspective(1000px) rotateY(-10deg));}
	20% {opacity:1;}
    100%{opacity:1; .transform(translateX(-10%) perspective(1000px) rotateY(-20deg));}
});

.keyframes(card-stack-cycle;{
    0% {.translate(0,0); opacity:1; z-index:0;}
    5% {.translate(-20px,20px); opacity:1; z-index:0;}

    25% {.translate(-20px,20px); opacity:1; z-index:1;}
    30% {.translate(-40px,40px); opacity:1; z-index:1;}

    50% {.translate(-40px,40px); opacity:1; z-index:2;}
    55% {.translate(-60px,60px); opacity:1; z-index:2;}

    75% {.translate(-60px,60px); opacity:1; z-index:3;}
    80% {.translate(-60px,80px); opacity:0; z-index:3;}

    95% {.translate(0,20px); opacity:0; z-index:0;}
    100%{.translate(0,0); opacity:1; z-index:0;}
});

.keyframes(hero-cursor-website;{
    0%   {top:50%; left:50%;}
    4%  {top:16%; left:27%;}
    50%  {top:16%; left:27%;}
    55% {top:50%; left:50%;}
    100% {top:50%; left:50%;}
});
.keyframes(hero-cursor-email;{
    0%   {top:50%; left:50%;}
    4%  {top:46%; left:48%;}
    50%  {top:46%; left:48%;}
    55% {top:50%; left:50%;}
    100% {top:50%; left:50%;}
});
.keyframes(hero-cursor-enterprise-systems;{
    0%   {top:50%; left:50%;}
    4%  {top:18%; left:27%;}
    50%  {top:18%; left:27%;}
    55% {top:50%; left:50%;}
    100% {top:50%; left:50%;}
});
.keyframes(hero-cursor-productivity-apps;{
    0%   {top:50%; left:50%;}
    4%  {top:63%; left:5%;}
    50%  {top:63%; left:5%;}
    55% {top:50%; left:50%;}
    100% {top:50%; left:50%;}
});

.keyframes(hero-card-appear;{
    0%  {opacity:0; .translateY(-10%);}
	4.5%  {opacity:0; .translateY(-10%);}
    6.5%  {opacity:1; .translateY(0);}
    50%  {opacity:1; .translateY(0);}
    52%  {opacity:0; .translateY(10%);}
    100% {opacity:0; .translateY(10%);}
});
